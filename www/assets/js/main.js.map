{"version":3,"file":"main.js","sources":["../../../src/js/extra/SmoothScroll.js","../../../src/js/base/debounce.js","../../../src/js/base/throttle.js","../../../src/js/base/eventManager.js","../../../src/js/utility/vh.js","../../../src/js/utility/modernizr.js","../../../src/component/parallax/js/parallax.js","../../../src/component/parallax/js/parallaxBackground.js","../../../src/component/threeGallery/js/threeGallery.js","../../../src/component/show-element/js/ShowElement.js","../../../src/component/fit-images/js/fitImage.js","../../../src/component/tooltip/js/tooltip.js","../../../src/component/to-top/js/toTop.js","../../../src/component/section/js/section.js","../../../src/component/offset-slider/js/offsetSlider.js","../../../src/js/base/mediaManager.js","../../../src/component/navigation/js/menu.js","../../../src/component/accordion/js/accordion.js","../../../src/component/popToggle/js/popToggle.js","../../../src/component/popToggle/js/popToggleManager.js","../../../src/component/overlay/js/overlay.js","../../../src/component/lightbox/js/lightbox-image-description.js","../../../src/component/lightbox/js/lightbox-common-dynamic.js","../../../src/js/utility/loadImages.js","../../../src/component/lightbox/js/lightbox-image.js","../../../src/component/lightbox/js/lightbox-image-slide.js","../../../src/component/lightbox/js/lightbox-video.js","../../../src/component/lightbox/js/lightbox.js","../../../src/js/index.js"],"sourcesContent":["//\n// SmoothScroll for websites v1.4.9 (Balazs Galambosi)\n// http://www.smoothscroll.net/\n//\n// Licensed under the terms of the MIT license.\n//\n// You may use it in your theme if you credit me.\n// It is also free to use on any individual website.\n//\n// Exception:\n// The only restriction is to not publish any\n// extension for browsers or native application\n// without getting a written permission first.\n//\n\n(function () {\n\n// Scroll Variables (tweakable)\nvar defaultOptions = {\n\n    // Scrolling Core\n    frameRate        : 150, // [Hz]\n    animationTime    : 400, // [ms]\n    stepSize         : 100, // [px]\n\n    // Pulse (less tweakable)\n    // ratio of \"tail\" to \"acceleration\"\n    pulseAlgorithm   : true,\n    pulseScale       : 4,\n    pulseNormalize   : 1,\n\n    // Acceleration\n    accelerationDelta : 50,  // 50\n    accelerationMax   : 3,   // 3\n\n    // Keyboard Settings\n    keyboardSupport   : true,  // option\n    arrowScroll       : 50,    // [px]\n\n    // Other\n    fixedBackground   : true,\n    excluded          : ''\n};\n\nvar options = defaultOptions;\n\n\n// Other Variables\nvar isExcluded = false;\nvar isFrame = false;\nvar direction = { x: 0, y: 0 };\nvar initDone  = false;\nvar root = document.documentElement;\nvar activeElement;\nvar observer;\nvar refreshSize;\nvar deltaBuffer = [];\nvar deltaBufferTimer;\nvar isMac = /^Mac/.test(navigator.platform);\n\nvar key = { left: 37, up: 38, right: 39, down: 40, spacebar: 32,\n            pageup: 33, pagedown: 34, end: 35, home: 36 };\nvar arrowKeys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n\n/***********************************************\n * INITIALIZE\n ***********************************************/\n\n/**\n * Tests if smooth scrolling is allowed. Shuts down everything if not.\n */\nfunction initTest() {\n    if (options.keyboardSupport) {\n        addEvent('keydown', keydown);\n    }\n}\n\n/**\n * Sets up scrolls array, determines if frames are involved.\n */\nfunction init() {\n\n    if (initDone || !document.body) return;\n\n    initDone = true;\n\n    var body = document.body;\n    var html = document.documentElement;\n    var windowHeight = window.innerHeight;\n    var scrollHeight = body.scrollHeight;\n\n    // check compat mode for root element\n    root = (document.compatMode.indexOf('CSS') >= 0) ? html : body;\n    activeElement = body;\n\n    initTest();\n\n    // Checks if this script is running in a frame\n    if (top != self) {\n        isFrame = true;\n    }\n\n    /**\n     * Safari 10 fixed it, Chrome fixed it in v45:\n     * This fixes a bug where the areas left and right to\n     * the content does not trigger the onmousewheel event\n     * on some pages. e.g.: html, body { height: 100% }\n     */\n    else if (isOldSafari &&\n             scrollHeight > windowHeight &&\n            (body.offsetHeight <= windowHeight ||\n             html.offsetHeight <= windowHeight)) {\n\n        var fullPageElem = document.createElement('div');\n        fullPageElem.style.cssText = 'position:absolute; z-index:-10000; ' +\n                                     'top:0; left:0; right:0; height:' +\n                                      root.scrollHeight + 'px';\n        document.body.appendChild(fullPageElem);\n\n        // DOM changed (throttled) to fix height\n        var pendingRefresh;\n        refreshSize = function () {\n            if (pendingRefresh) return; // could also be: clearTimeout(pendingRefresh);\n            pendingRefresh = setTimeout(function () {\n                if (isExcluded) return; // could be running after cleanup\n                fullPageElem.style.height = '0';\n                fullPageElem.style.height = root.scrollHeight + 'px';\n                pendingRefresh = null;\n            }, 500); // act rarely to stay fast\n        };\n\n        setTimeout(refreshSize, 10);\n\n        addEvent('resize', refreshSize);\n\n        // TODO: attributeFilter?\n        var config = {\n            attributes: true,\n            childList: true,\n            characterData: false\n            // subtree: true\n        };\n\n        observer = new MutationObserver(refreshSize);\n        observer.observe(body, config);\n\n        if (root.offsetHeight <= windowHeight) {\n            var clearfix = document.createElement('div');\n            clearfix.style.clear = 'both';\n            body.appendChild(clearfix);\n        }\n    }\n\n    // disable fixed background\n    if (!options.fixedBackground && !isExcluded) {\n        body.style.backgroundAttachment = 'scroll';\n        html.style.backgroundAttachment = 'scroll';\n    }\n}\n\n/**\n * Removes event listeners and other traces left on the page.\n */\nfunction cleanup() {\n    observer && observer.disconnect();\n    removeEvent(wheelEvent, wheel);\n    removeEvent('mousedown', mousedown);\n    removeEvent('keydown', keydown);\n    removeEvent('resize', refreshSize);\n    removeEvent('load', init);\n}\n\n\n/************************************************\n * SCROLLING\n ************************************************/\n\nvar que = [];\nvar pending = false;\nvar lastScroll = Date.now();\n\n/**\n * Pushes scroll actions to the scrolling queue.\n */\nfunction scrollArray(elem, left, top) {\n\n    directionCheck(left, top);\n\n    if (options.accelerationMax != 1) {\n        var now = Date.now();\n        var elapsed = now - lastScroll;\n        if (elapsed < options.accelerationDelta) {\n            var factor = (1 + (50 / elapsed)) / 2;\n            if (factor > 1) {\n                factor = Math.min(factor, options.accelerationMax);\n                left *= factor;\n                top  *= factor;\n            }\n        }\n        lastScroll = Date.now();\n    }\n\n    // push a scroll command\n    que.push({\n        x: left,\n        y: top,\n        lastX: (left < 0) ? 0.99 : -0.99,\n        lastY: (top  < 0) ? 0.99 : -0.99,\n        start: Date.now()\n    });\n\n    // don't act if there's a pending queue\n    if (pending) {\n        return;\n    }\n\n    var scrollRoot = getScrollRoot();\n    var isWindowScroll = (elem === scrollRoot || elem === document.body);\n\n    // if we haven't already fixed the behavior,\n    // and it needs fixing for this sesh\n    if (elem.$scrollBehavior == null && isScrollBehaviorSmooth(elem)) {\n        elem.$scrollBehavior = elem.style.scrollBehavior;\n        elem.style.scrollBehavior = 'auto';\n    }\n\n    var step = function (time) {\n\n        var now = Date.now();\n        var scrollX = 0;\n        var scrollY = 0;\n\n        for (var i = 0; i < que.length; i++) {\n\n            var item = que[i];\n            var elapsed  = now - item.start;\n            var finished = (elapsed >= options.animationTime);\n\n            // scroll position: [0, 1]\n            var position = (finished) ? 1 : elapsed / options.animationTime;\n\n            // easing [optional]\n            if (options.pulseAlgorithm) {\n                position = pulse(position);\n            }\n\n            // only need the difference\n            var x = (item.x * position - item.lastX) >> 0;\n            var y = (item.y * position - item.lastY) >> 0;\n\n            // add this to the total scrolling\n            scrollX += x;\n            scrollY += y;\n\n            // update last values\n            item.lastX += x;\n            item.lastY += y;\n\n            // delete and step back if it's over\n            if (finished) {\n                que.splice(i, 1); i--;\n            }\n        }\n\n        // scroll left and top\n        if (isWindowScroll) {\n            window.scrollBy(scrollX, scrollY);\n        }\n        else {\n            if (scrollX) elem.scrollLeft += scrollX;\n            if (scrollY) elem.scrollTop  += scrollY;\n        }\n\n        // clean up if there's nothing left to do\n        if (!left && !top) {\n            que = [];\n        }\n\n        if (que.length) {\n            requestFrame(step, elem, (1000 / options.frameRate + 1));\n        } else {\n            pending = false;\n            // restore default behavior at the end of scrolling sesh\n            if (elem.$scrollBehavior != null) {\n                elem.style.scrollBehavior = elem.$scrollBehavior;\n                elem.$scrollBehavior = null;\n            }\n        }\n    };\n\n    // start a new queue of actions\n    requestFrame(step, elem, 0);\n    pending = true;\n}\n\n\n/***********************************************\n * EVENTS\n ***********************************************/\n\n/**\n * Mouse wheel handler.\n * @param {Object} event\n */\nfunction wheel(event) {\n\n    if (!initDone) {\n        init();\n    }\n\n    var target = event.target;\n\n    // leave early if default action is prevented\n    // or it's a zooming event with CTRL\n    if (event.defaultPrevented || event.ctrlKey) {\n        return true;\n    }\n\n    // leave embedded content alone (flash & pdf)\n    if (isNodeName(activeElement, 'embed') ||\n       (isNodeName(target, 'embed') && /\\.pdf/i.test(target.src)) ||\n        isNodeName(activeElement, 'object') ||\n        target.shadowRoot) {\n        return true;\n    }\n\n    var deltaX = -event.wheelDeltaX || event.deltaX || 0;\n    var deltaY = -event.wheelDeltaY || event.deltaY || 0;\n\n    if (isMac) {\n        if (event.wheelDeltaX && isDivisible(event.wheelDeltaX, 120)) {\n            deltaX = -120 * (event.wheelDeltaX / Math.abs(event.wheelDeltaX));\n        }\n        if (event.wheelDeltaY && isDivisible(event.wheelDeltaY, 120)) {\n            deltaY = -120 * (event.wheelDeltaY / Math.abs(event.wheelDeltaY));\n        }\n    }\n\n    // use wheelDelta if deltaX/Y is not available\n    if (!deltaX && !deltaY) {\n        deltaY = -event.wheelDelta || 0;\n    }\n\n    // line based scrolling (Firefox mostly)\n    if (event.deltaMode === 1) {\n        deltaX *= 40;\n        deltaY *= 40;\n    }\n\n    var overflowing = overflowingAncestor(target);\n\n    // nothing to do if there's no element that's scrollable\n    if (!overflowing) {\n        // except Chrome iframes seem to eat wheel events, which we need to\n        // propagate up, if the iframe has nothing overflowing to scroll\n        if (isFrame && isChrome)  {\n            // change target to iframe element itself for the parent frame\n            Object.defineProperty(event, \"target\", {value: window.frameElement});\n            return parent.wheel(event);\n        }\n        return true;\n    }\n\n    // check if it's a touchpad scroll that should be ignored\n    if (isTouchpad(deltaY)) {\n        return true;\n    }\n\n    // scale by step size\n    // delta is 120 most of the time\n    // synaptics seems to send 1 sometimes\n    if (Math.abs(deltaX) > 1.2) {\n        deltaX *= options.stepSize / 120;\n    }\n    if (Math.abs(deltaY) > 1.2) {\n        deltaY *= options.stepSize / 120;\n    }\n\n    scrollArray(overflowing, deltaX, deltaY);\n    event.preventDefault();\n    scheduleClearCache();\n}\n\n/**\n * Keydown event handler.\n * @param {Object} event\n */\nfunction keydown(event) {\n\n    var target   = event.target;\n    var modifier = event.ctrlKey || event.altKey || event.metaKey ||\n                  (event.shiftKey && event.keyCode !== key.spacebar);\n\n    // our own tracked active element could've been removed from the DOM\n    if (!document.body.contains(activeElement)) {\n        activeElement = document.activeElement;\n    }\n\n    // do nothing if user is editing text\n    // or using a modifier key (except shift)\n    // or in a dropdown\n    // or inside interactive elements\n    var inputNodeNames = /^(textarea|select|embed|object)$/i;\n    var buttonTypes = /^(button|submit|radio|checkbox|file|color|image)$/i;\n    if ( event.defaultPrevented ||\n         inputNodeNames.test(target.nodeName) ||\n         isNodeName(target, 'input') && !buttonTypes.test(target.type) ||\n         isNodeName(activeElement, 'video') ||\n         isInsideYoutubeVideo(event) ||\n         target.isContentEditable ||\n         modifier ) {\n      return true;\n    }\n\n    // [spacebar] should trigger button press, leave it alone\n    if ((isNodeName(target, 'button') ||\n         isNodeName(target, 'input') && buttonTypes.test(target.type)) &&\n        event.keyCode === key.spacebar) {\n      return true;\n    }\n\n    // [arrwow keys] on radio buttons should be left alone\n    if (isNodeName(target, 'input') && target.type == 'radio' &&\n        arrowKeys[event.keyCode])  {\n      return true;\n    }\n\n    var shift, x = 0, y = 0;\n    var overflowing = overflowingAncestor(activeElement);\n\n    if (!overflowing) {\n        // Chrome iframes seem to eat key events, which we need to\n        // propagate up, if the iframe has nothing overflowing to scroll\n        return (isFrame && isChrome) ? parent.keydown(event) : true;\n    }\n\n    var clientHeight = overflowing.clientHeight;\n\n    if (overflowing == document.body) {\n        clientHeight = window.innerHeight;\n    }\n\n    switch (event.keyCode) {\n        case key.up:\n            y = -options.arrowScroll;\n            break;\n        case key.down:\n            y = options.arrowScroll;\n            break;\n        case key.spacebar: // (+ shift)\n            shift = event.shiftKey ? 1 : -1;\n            y = -shift * clientHeight * 0.9;\n            break;\n        case key.pageup:\n            y = -clientHeight * 0.9;\n            break;\n        case key.pagedown:\n            y = clientHeight * 0.9;\n            break;\n        case key.home:\n            if (overflowing == document.body && document.scrollingElement)\n                overflowing = document.scrollingElement;\n            y = -overflowing.scrollTop;\n            break;\n        case key.end:\n            var scroll = overflowing.scrollHeight - overflowing.scrollTop;\n            var scrollRemaining = scroll - clientHeight;\n            y = (scrollRemaining > 0) ? scrollRemaining + 10 : 0;\n            break;\n        case key.left:\n            x = -options.arrowScroll;\n            break;\n        case key.right:\n            x = options.arrowScroll;\n            break;\n        default:\n            return true; // a key we don't care about\n    }\n\n    scrollArray(overflowing, x, y);\n    event.preventDefault();\n    scheduleClearCache();\n}\n\n/**\n * Mousedown event only for updating activeElement\n */\nfunction mousedown(event) {\n    activeElement = event.target;\n}\n\n\n/***********************************************\n * OVERFLOW\n ***********************************************/\n\nvar uniqueID = (function () {\n    var i = 0;\n    return function (el) {\n        return el.uniqueID || (el.uniqueID = i++);\n    };\n})();\n\nvar cacheX = {}; // cleared out after a scrolling session\nvar cacheY = {}; // cleared out after a scrolling session\nvar clearCacheTimer;\nvar smoothBehaviorForElement = {};\n\n//setInterval(function () { cache = {}; }, 10 * 1000);\n\nfunction scheduleClearCache() {\n    clearTimeout(clearCacheTimer);\n    clearCacheTimer = setInterval(function () {\n        cacheX = cacheY = smoothBehaviorForElement = {};\n    }, 1*1000);\n}\n\nfunction setCache(elems, overflowing, x) {\n    var cache = x ? cacheX : cacheY;\n    for (var i = elems.length; i--;)\n        cache[uniqueID(elems[i])] = overflowing;\n    return overflowing;\n}\n\nfunction getCache(el, x) {\n    return (x ? cacheX : cacheY)[uniqueID(el)];\n}\n\n//  (body)                (root)\n//         | hidden | visible | scroll |  auto  |\n// hidden  |   no   |    no   |   YES  |   YES  |\n// visible |   no   |   YES   |   YES  |   YES  |\n// scroll  |   no   |   YES   |   YES  |   YES  |\n// auto    |   no   |   YES   |   YES  |   YES  |\n\nfunction overflowingAncestor(el) {\n    var elems = [];\n    var body = document.body;\n    var rootScrollHeight = root.scrollHeight;\n    do {\n        var cached = getCache(el, false);\n        if (cached) {\n            return setCache(elems, cached);\n        }\n        elems.push(el);\n        if (rootScrollHeight === el.scrollHeight) {\n            var topOverflowsNotHidden = overflowNotHidden(root) && overflowNotHidden(body);\n            var isOverflowCSS = topOverflowsNotHidden || overflowAutoOrScroll(root);\n            if (isFrame && isContentOverflowing(root) ||\n               !isFrame && isOverflowCSS) {\n                return setCache(elems, getScrollRoot());\n            }\n        } else if (isContentOverflowing(el) && overflowAutoOrScroll(el)) {\n            return setCache(elems, el);\n        }\n    } while ((el = el.parentElement));\n}\n\nfunction isContentOverflowing(el) {\n    return (el.clientHeight + 10 < el.scrollHeight);\n}\n\n// typically for <body> and <html>\nfunction overflowNotHidden(el) {\n    var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    return (overflow !== 'hidden');\n}\n\n// for all other elements\nfunction overflowAutoOrScroll(el) {\n    var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    return (overflow === 'scroll' || overflow === 'auto');\n}\n\n// for all other elements\nfunction isScrollBehaviorSmooth(el) {\n    var id = uniqueID(el);\n    if (smoothBehaviorForElement[id] == null) {\n        var scrollBehavior = getComputedStyle(el, '')['scroll-behavior'];\n        smoothBehaviorForElement[id] = ('smooth' == scrollBehavior);\n    }\n    return smoothBehaviorForElement[id];\n}\n\n\n/***********************************************\n * HELPERS\n ***********************************************/\n\nfunction addEvent(type, fn, arg) {\n    window.addEventListener(type, fn, arg || false);\n}\n\nfunction removeEvent(type, fn, arg) {\n    window.removeEventListener(type, fn, arg || false);\n}\n\nfunction isNodeName(el, tag) {\n    return el && (el.nodeName||'').toLowerCase() === tag.toLowerCase();\n}\n\nfunction directionCheck(x, y) {\n    x = (x > 0) ? 1 : -1;\n    y = (y > 0) ? 1 : -1;\n    if (direction.x !== x || direction.y !== y) {\n        direction.x = x;\n        direction.y = y;\n        que = [];\n        lastScroll = 0;\n    }\n}\n\nif (window.localStorage && localStorage.SS_deltaBuffer) {\n    try { // #46 Safari throws in private browsing for localStorage\n        deltaBuffer = localStorage.SS_deltaBuffer.split(',');\n    } catch (e) { }\n}\n\nfunction isTouchpad(deltaY) {\n    if (!deltaY) return;\n    if (!deltaBuffer.length) {\n        deltaBuffer = [deltaY, deltaY, deltaY];\n    }\n    deltaY = Math.abs(deltaY);\n    deltaBuffer.push(deltaY);\n    deltaBuffer.shift();\n    clearTimeout(deltaBufferTimer);\n    deltaBufferTimer = setTimeout(function () {\n        try { // #46 Safari throws in private browsing for localStorage\n            localStorage.SS_deltaBuffer = deltaBuffer.join(',');\n        } catch (e) { }\n    }, 1000);\n    var dpiScaledWheelDelta = deltaY > 120 && allDeltasDivisableBy(deltaY); // win64\n    return !allDeltasDivisableBy(120) && !allDeltasDivisableBy(100) && !dpiScaledWheelDelta;\n}\n\nfunction isDivisible(n, divisor) {\n    return (Math.floor(n / divisor) == n / divisor);\n}\n\nfunction allDeltasDivisableBy(divisor) {\n    return (isDivisible(deltaBuffer[0], divisor) &&\n            isDivisible(deltaBuffer[1], divisor) &&\n            isDivisible(deltaBuffer[2], divisor));\n}\n\nfunction isInsideYoutubeVideo(event) {\n    var elem = event.target;\n    var isControl = false;\n    if (document.URL.indexOf ('www.youtube.com/watch') != -1) {\n        do {\n            isControl = (elem.classList &&\n                         elem.classList.contains('html5-video-controls'));\n            if (isControl) break;\n        } while ((elem = elem.parentNode));\n    }\n    return isControl;\n}\n\nvar requestFrame = (function () {\n      return (window.requestAnimationFrame       ||\n              window.webkitRequestAnimationFrame ||\n              window.mozRequestAnimationFrame    ||\n              function (callback, element, delay) {\n                 window.setTimeout(callback, delay || (1000/60));\n             });\n})();\n\nvar MutationObserver = (window.MutationObserver ||\n                        window.WebKitMutationObserver ||\n                        window.MozMutationObserver);\n\nvar getScrollRoot = (function() {\n  var SCROLL_ROOT = document.scrollingElement;\n  return function() {\n    if (!SCROLL_ROOT) {\n      var dummy = document.createElement('div');\n      dummy.style.cssText = 'height:10000px;width:1px;';\n      document.body.appendChild(dummy);\n      var bodyScrollTop  = document.body.scrollTop;\n      var docElScrollTop = document.documentElement.scrollTop;\n      window.scrollBy(0, 3);\n      if (document.body.scrollTop != bodyScrollTop)\n        (SCROLL_ROOT = document.body);\n      else\n        (SCROLL_ROOT = document.documentElement);\n      window.scrollBy(0, -3);\n      document.body.removeChild(dummy);\n    }\n    return SCROLL_ROOT;\n  };\n})();\n\n\n/***********************************************\n * PULSE (by Michael Herf)\n ***********************************************/\n\n/**\n * Viscous fluid with a pulse for part and decay for the rest.\n * - Applies a fixed force over an interval (a damped acceleration), and\n * - Lets the exponential bleed away the velocity over a longer interval\n * - Michael Herf, http://stereopsis.com/stopping/\n */\nfunction pulse_(x) {\n    var val, start, expx;\n    // test\n    x = x * options.pulseScale;\n    if (x < 1) { // acceleartion\n        val = x - (1 - Math.exp(-x));\n    } else {     // tail\n        // the previous animation ended here:\n        start = Math.exp(-1);\n        // simple viscous drag\n        x -= 1;\n        expx = 1 - Math.exp(-x);\n        val = start + (expx * (1 - start));\n    }\n    return val * options.pulseNormalize;\n}\n\nfunction pulse(x) {\n    if (x >= 1) return 1;\n    if (x <= 0) return 0;\n\n    if (options.pulseNormalize == 1) {\n        options.pulseNormalize /= pulse_(1);\n    }\n    return pulse_(x);\n}\n\n\n/***********************************************\n * FIRST RUN\n ***********************************************/\n\nvar userAgent = window.navigator.userAgent;\nvar isEdge    = /Edge/.test(userAgent); // thank you MS\nvar isChrome  = /chrome/i.test(userAgent) && !isEdge;\nvar isSafari  = /safari/i.test(userAgent) && !isEdge;\nvar isMobile  = /mobile/i.test(userAgent);\nvar isIEWin7  = /Windows NT 6.1/i.test(userAgent) && /rv:11/i.test(userAgent);\nvar isOldSafari = isSafari && (/Version\\/8/i.test(userAgent) || /Version\\/9/i.test(userAgent));\nvar isEnabledForBrowser = (isChrome || isSafari || isIEWin7) && !isMobile;\n\nvar supportsPassive = false;\ntry {\n  window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\n    get: function () {\n            supportsPassive = true;\n        }\n    }));\n} catch(e) {}\n\nvar wheelOpt = supportsPassive ? { passive: false } : false;\nvar wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n\nif (wheelEvent && isEnabledForBrowser) {\n    addEvent(wheelEvent, wheel, wheelOpt);\n    addEvent('mousedown', mousedown);\n    addEvent('load', init);\n}\n\n\n/***********************************************\n * PUBLIC INTERFACE\n ***********************************************/\n\nfunction SmoothScroll(optionsToSet) {\n    for (var key in optionsToSet)\n        if (defaultOptions.hasOwnProperty(key))\n            options[key] = optionsToSet[key];\n}\nSmoothScroll.destroy = cleanup;\n\nif (window.SmoothScrollOptions) // async API\n    SmoothScroll(window.SmoothScrollOptions);\n\nif (typeof define === 'function' && define.amd)\n    define(function() {\n        return SmoothScroll;\n    });\nelse if ('object' == typeof exports)\n    module.exports = SmoothScroll;\nelse\n    window.SmoothScroll = SmoothScroll;\n\n})();\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear'\n * that is a function which will clear the timer to prevent previously scheduled executions.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nexport function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n","export function throttle(fn, threshhold, scope){\n  threshhold || (threshhold = 250);\n    var last,\n        deferTimer;\n    return function () {\n      var self = scope || this;\n\n      var now = +new Date,\n          args = arguments;\n\n      if (last && now < last + threshhold) {\n        clearTimeout(deferTimer);\n        deferTimer = setTimeout(function () {\n          last = now;\n          fn.apply(self, args);\n        }, threshhold);\n      } else {\n        last = now;\n        fn.apply(self, args);\n      }\n    };\n};\n","import { debounce } from \"./debounce.js\";\nimport { throttle } from \"./throttle.js\";\n\nclass eventManagerClass {\n\n  constructor() {\n    if(!eventManagerClass.instance){\n      this.s = {\n        data: {\n          'scroll': [],\n          'scrollThrottle': [],\n          'scrollStart': [],\n          'scrollEnd': [],\n          'resize': [],\n          'load': []\n        },\n        windowsHeight : window.innerHeight,\n        windowsWidth : window.innerWidth,\n        scrollTop : window.pageYOffset,\n        documentHeight: document.documentElement.scrollHeight,\n        lastScrollTop: window.pageYOffset,\n        scrollUp: 'UP',\n        scrollDown: 'DOWN',\n        scrollDirection: '',\n        ticking : false,\n        stackId : -1,\n        bodyOverflowStack : 0,\n        timeout: null,\n        isScrolling: false,\n        _scrollUtility: false,\n        _throttle: true\n      }\n      eventManagerClass.instance = this;\n    }\n    return eventManagerClass.instance;\n  }\n\n  init(scrollUtility = false, useThrottle = true){\n    this.s.scrollDirection = this.s.scrollDown\n\n\n    this.s._scrollUtility = scrollUtility\n    this.s._throttle = useThrottle\n\n    window.addEventListener('scroll', this.onScroll.bind(this), false);\n    window.onresize = debounce(this.resize.bind(this), 200);\n\n    if(this.s._throttle) {\n      window.addEventListener('scroll', throttle(this.onThrottle.bind(this), 60), false);\n    }\n\n    if(this.s._scrollUtility) {\n      window.onscroll = debounce(this.detectScrollEnd.bind(this), 200);\n    }\n\n    document.onreadystatechange = () => {\n      if (document.readyState === \"complete\") {\n        this.s.windowsWidth = window.innerWidth\n        this.s.windowsHeight = window.innerHeight\n        this.s.scrollTop =  window.pageYOffset\n        this.s.documentHeight = document.documentElement.scrollHeight\n        this.execute('load')\n      }\n    }\n  }\n\n  onThrottle() {\n    this.execute('scrollThrottle')\n  }\n\n  onScroll() {\n    this.s.scrollTop = window.pageYOffset\n\n    if (this.s.lastScrollTop > this.s.scrollTop ) {\n      this.s.scrollDirection = this.s.scrollUp\n    } else {\n      this.s.scrollDirection = this.s.scrollDown\n    }\n\n    this.s.lastScrollTop = this.s.scrollTop\n\n    this.requestTick()\n\n    if (!this.s.isScrolling && this.s._scrollUtility) {\n      this.s.isScrolling = true;\n      this.execute('scrollStart')\n    }\n  }\n\n  resize(e) {\n    this.s.windowsWidth = window.innerWidth\n    this.s.windowsHeight = window.innerHeight\n    this.s.scrollTop =  window.pageYOffset\n    this.s.documentHeight = document.documentElement.scrollHeight\n    this.execute('resize')\n  }\n\n  requestTick() {\n    if(!this.s.ticking) {\n      requestAnimationFrame(this.updateScroll.bind(this))\n      this.s.ticking = true\n    }\n  }\n\n  updateScroll() {\n    this.execute('scroll')\n    this.s.ticking = false;\n  }\n\n  detectScrollEnd() {\n    this.s.isScrolling = false\n    this.execute('scrollEnd')\n  }\n\n  execute(_properties) {\n    if(this.s.data.hasOwnProperty(_properties)) {\n      for (let index = 0; index < this.s.data[_properties].length; index++) {\n        const item = this.s.data[_properties][index];\n\n        item.func()\n      }\n    }\n  }\n\n  push(_properties,_function,_order = 100) {\n    if(this.s.data.hasOwnProperty(_properties)) {\n\n      this.s.stackId++\n      let obj = {\n        id: this.s.stackId,\n        func: _function,\n        order: _order\n      }\n      this.s.data[_properties].push(obj);\n      this.updateOrder(_properties);\n\n      return this.s.stackId\n    }\n  }\n\n  remove(_properties, _id) {\n    this.s.data[_properties] =  this.s.data[_properties].filter((obj) => obj.id != _id );\n  }\n\n  updateItemOrder(_properties, _id, _order) {\n    const index = this.s.data[_properties].findIndex((obj) =>  obj.id == _id );\n    this.s.data[_properties][index].order = _order;\n    this.updateOrder(_properties);\n  }\n\n  updateOrder(_properties) {\n    if(this.s.data.hasOwnProperty(_properties)) {\n      this.s.data[_properties].sort((obj1, obj2) => obj1.order - obj2.order);\n    }\n  }\n\n  windowsHeight() {\n    return this.s.windowsHeight\n  }\n\n  windowsWidth() {\n    return this.s.windowsWidth\n  }\n\n  scrollTop() {\n    return this.s.scrollTop\n  }\n\n  documentHeight() {\n    return this.s.documentHeight\n  }\n\n  scrollDirection() {\n    return this.s.scrollDirection\n  }\n\n  setBodyOverflow() {\n      this.s.bodyOverflowStack ++;\n      document.body.style.overflow = 'hidden';\n  }\n\n  removeBodyOverflow() {\n      if(this.s.bodyOverflowStack > 0) this.s.bodyOverflowStack --;\n      if(this.s.bodyOverflowStack == 0) document.body.style.overflow = '';\n  }\n}\n\nexport const eventManager = new eventManagerClass();\n","import { eventManager } from \"../base/eventManager.js\";\n\nclass vhClass {\n\n  constructor(images,callback) {\n    if(!vhClass.instance){\n      vhClass.instance = this;\n    }\n\n    return vhClass.instance;\n  }\n\n\n  init(){\n    this.calcVh()\n    eventManager.push('resize', this.calcVh.bind(this))\n    eventManager.push('scroll', this.onScroll.bind(this))\n  }\n\n  calcVh() {\n    let vh = window.innerHeight * 0.01\n    document.documentElement.style.setProperty('--vh', `${vh}px`)\n  }\n\n  onScroll() {\n    if(eventManager.scrollTop() == 0) {\n      this.calcVh();\n    }\n  }\n\n}\n\nexport const vh = new vhClass()\n\n// USAGE\n// .my-element {\n//   height: 100vh; /* Fallback for browsers that do not support Custom Properties */\n//   height: calc(var(--vh, 1vh) * 100);\n// }\n","function modernizerFunc() {\n    /*! modernizr 3.6.0 (Custom Build) | MIT *\n    * https://modernizr.com/download/?-requestanimationframe-touchevents-prefixed-prefixedcss-prefixedcssvalue-setclasses !*/\n    !function(e,n,t){function r(e){var n=_.className,t=Modernizr._config.classPrefix||\"\";if(w&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(r,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),w?_.className.baseVal=n:_.className=n)}function o(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function i(e,n){return typeof e===n}function s(){var e,n,t,r,o,s,a;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],n=C[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=i(n.fn,\"function\")?n.fn():n.fn,o=0;o<e.length;o++)s=e[o],a=s.split(\".\"),1===a.length?Modernizr[a[0]]=r:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=r),g.push((r?\"\":\"no-\")+a.join(\"-\"))}}function a(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function l(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):w?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function f(){var e=n.body;return e||(e=l(w?\"svg\":\"body\"),e.fake=!0),e}function u(e,t,r,o){var i,s,a,u,c=\"modernizr\",p=l(\"div\"),d=f();if(parseInt(r,10))for(;r--;)a=l(\"div\"),a.id=o?o[r]:c+(r+1),p.appendChild(a);return i=l(\"style\"),i.type=\"text/css\",i.id=\"s\"+c,(d.fake?d:p).appendChild(i),d.appendChild(p),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(n.createTextNode(e)),p.id=c,d.fake&&(d.style.background=\"\",d.style.overflow=\"hidden\",u=_.style.overflow,_.style.overflow=\"hidden\",_.appendChild(d)),s=t(p,e),d.fake?(d.parentNode.removeChild(d),_.style.overflow=u,_.offsetHeight):p.parentNode.removeChild(p),!!s}function c(e,n){return!!~(\"\"+e).indexOf(n)}function p(e,n){return function(){return e.apply(n,arguments)}}function d(e,n,t){var r;for(var o in e)if(e[o]in n)return t===!1?e[o]:(r=n[e[o]],i(r,\"function\")?p(r,t||n):r);return!1}function m(n,t,r){var o;if(\"getComputedStyle\"in e){o=getComputedStyle.call(e,n,t);var i=e.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?\"error\":\"log\";i[s].call(i,\"getComputedStyle returning null, its possible modernizr test results are inaccurate\")}}else o=!t&&n.currentStyle&&n.currentStyle[r];return o}function v(n,r){var o=n.length;if(\"CSS\"in e&&\"supports\"in e.CSS){for(;o--;)if(e.CSS.supports(a(n[o]),r))return!0;return!1}if(\"CSSSupportsRule\"in e){for(var i=[];o--;)i.push(\"(\"+a(n[o])+\":\"+r+\")\");return i=i.join(\" or \"),u(\"@supports (\"+i+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"==m(e,null,\"position\")})}return t}function h(e,n,r,s){function a(){u&&(delete k.style,delete k.modElem)}if(s=i(s,\"undefined\")?!1:s,!i(r,\"undefined\")){var f=v(e,r);if(!i(f,\"undefined\"))return f}for(var u,p,d,m,h,y=[\"modernizr\",\"tspan\",\"samp\"];!k.style&&y.length;)u=!0,k.modElem=l(y.shift()),k.style=k.modElem.style;for(d=e.length,p=0;d>p;p++)if(m=e[p],h=k.style[m],c(m,\"-\")&&(m=o(m)),k.style[m]!==t){if(s||i(r,\"undefined\"))return a(),\"pfx\"==n?m:!0;try{k.style[m]=r}catch(g){}if(k.style[m]!=h)return a(),\"pfx\"==n?m:!0}return a(),!1}function y(e,n,t,r,o){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+\" \"+E.join(s+\" \")+s).split(\" \");return i(n,\"string\")||i(n,\"undefined\")?h(a,n,r,o):(a=(e+\" \"+z.join(s+\" \")+s).split(\" \"),d(a,n,t))}var g=[],C=[],S={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=S,Modernizr=new Modernizr;var x=S._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[\"\",\"\"];S._prefixes=x;var _=n.documentElement,w=\"svg\"===_.nodeName.toLowerCase(),b=\"Moz O ms Webkit\",z=S._config.usePrefixes?b.toLowerCase().split(\" \"):[];S._domPrefixes=z;var T=function(e,n){var t=!1,r=l(\"div\"),o=r.style;if(e in o){var i=z.length;for(o[e]=n,t=o[e];i--&&!t;)o[e]=\"-\"+z[i]+\"-\"+n,t=o[e]}return\"\"===t&&(t=!1),t};S.prefixedCSSValue=T;var E=S._config.usePrefixes?b.split(\" \"):[];S._cssomPrefixes=E;var P=function(n){var r,o=x.length,i=e.CSSRule;if(\"undefined\"==typeof i)return t;if(!n)return!1;if(n=n.replace(/^@/,\"\"),r=n.replace(/-/g,\"_\").toUpperCase()+\"_RULE\",r in i)return\"@\"+n;for(var s=0;o>s;s++){var a=x[s],l=a.toUpperCase()+\"_\"+r;if(l in i)return\"@-\"+a.toLowerCase()+\"-\"+n}return!1};S.atRule=P;var j=S.testStyles=u;Modernizr.addTest(\"touchevents\",function(){var t;if(\"ontouchstart\"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var r=[\"@media (\",x.join(\"touch-enabled),(\"),\"heartz\",\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\");j(r,function(e){t=9===e.offsetTop})}return t});var N={elem:l(\"modernizr\")};Modernizr._q.push(function(){delete N.elem});var k={style:N.elem.style};Modernizr._q.unshift(function(){delete k.style}),S.testAllProps=y;var q=S.prefixed=function(e,n,t){return 0===e.indexOf(\"@\")?P(e):(-1!=e.indexOf(\"-\")&&(e=o(e)),n?y(e,n,t):y(e,\"pfx\"))};S.prefixedCSS=function(e){var n=q(e);return n&&a(n)};Modernizr.addTest(\"requestanimationframe\",!!q(\"requestAnimationFrame\",e),{aliases:[\"raf\"]}),s(),r(g),delete S.addTest,delete S.addAsyncTest;for(var L=0;L<Modernizr._q.length;L++)Modernizr._q[L]();e.Modernizr=Modernizr}(window,document);\n\n}\n\nexport const modernzier = new modernizerFunc();\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { modernzier } from \"../../../js/utility/modernizr.js\"\n\nclass parallaxClass {\n\n  constructor() {\n    if(!parallaxClass.instance){\n      this.s = {\n        $parallaxItem: $(\"*[data-conponent='m-comp--parallax']\"),\n        itemArray: [],\n        transformProperty: Modernizr.prefixed('transform'),\n\n        // SMOOTH JS\n        smoothCss: 'CSS',\n        smoothJs: 'JS',\n        smoothType: '',\n        req: null,\n        toFixedValue: 1\n      }\n      parallaxClass.instance = this;\n    }\n    return parallaxClass.instance;\n  }\n\n\n\n\n  init(smoothType = this.s.smoothCss){\n    let _smoothType = smoothType\n\n    this.s.smoothType = _smoothType\n    eventManager.push('scroll', this.linearParallax.bind(this));\n    eventManager.push('scrollThrottle', this.smoothParallax.bind(this));\n    eventManager.push('resize', this.updateArray.bind(this));\n    eventManager.push('load', this.buildData.bind(this));\n  }\n\n\n\n\n  buildData(){\n    function obj(item) {\n      this.item = item\n      this.container = item.closest('.parallax__container')\n      this.offset = 0\n      this.endValue = 0\n      this.startValue = 0\n      this.prevValue = 0\n      this.height = 0\n      // Use other dome lement for cal height an position\n      // If you have a fixed position is udeful\n      this.useOtherPosition = (this.item.attr('data-otherPos') || null )\n      // 1 - 10 , 10 = more distance,  1 = less distance\n      this.distance = (this.item.attr('data-distance') || 8 )\n      // 1 - 10,  10 = quick, 1 = slow\n      this.jsVelocity = (this.item.attr('data-jsVelocity') || 8 )\n      // true - false: Bollean alla vuol make true response\n      this.reverse = (this.item.attr('data-reverse') || false )\n      // toStop - toBack\n      // In case Opacity only toBack is acrtive ( default is toStop)\n      // In the case recommended start point at 100\n      this.oneDirection = (this.item.attr('data-oneDirection') || '' )\n      // start - top -center - bottom - end - number 1-100 (vh postion)\n      // omn opacity work only start\n      this.align = (this.item.attr('data-align') || 'top' )\n      // 100 = bottom , opacityStart must be grater then opacityEnd\n      // with 'align=start' opacityStart have no effect\n      this.opacityStart = (this.item.attr('data-opacityStart') || 100 )\n      // 0 = top\n      // with 'align=start' opacityStart have no effect\n      this.opacityEnd = (this.item.attr('data-opacityEnd') || 0 )\n      // linear - smooth\n      this.ease = (this.item.attr('data-ease') || 'linear' )\n      // vertical - horizontal - rotate - opacity - scale\n      // with 'opacity' the align have no effect\n      // with 'opacity' distance have no effect\n      // with 'opacity' in 'smooth mode' uggest to use jsVelocity hight like 8\n      this.propierties = (this.item.attr('data-propierties') || 'vertical' )\n      this.calcOffset = () => {\n          if(this.useOtherPosition == null) {\n              this.offset = parseInt(this.container.offset().top)\n          } else {\n              this.offset = parseInt($(this.useOtherPosition).offset().top)\n          }\n      }\n      this.calcHeight = () => {\n        if(this.useOtherPosition == null) {\n            this.height = parseInt(this.container.outerHeight())\n        } else {\n            this.height = parseInt($(this.useOtherPosition).outerHeight())\n        }\n      }\n    }\n\n    this.s.$parallaxItem.each((index,element) => {\n      const item=$(element)\n      this.s.itemArray.push(new obj(item));\n      this.s.itemArray[this.s.itemArray.length-1].calcOffset()\n      this.s.itemArray[this.s.itemArray.length-1].calcHeight()\n      this.s.itemArray[this.s.itemArray.length-1].distance = this.normalizeDistance(  this.s.itemArray[this.s.itemArray.length-1].distance)\n      this.s.itemArray[this.s.itemArray.length-1].jsVelocity = this.normalizeVelocity(  this.s.itemArray[this.s.itemArray.length-1].jsVelocity)\n\n      if(this.s.itemArray[this.s.itemArray.length-1].ease == 'smooth' &&  this.s.smoothType == this.s.smoothCss) {\n          this.s.itemArray[this.s.itemArray.length-1].item.addClass('smooth-transition')\n      }\n    })\n\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n\n      this.executeParallax(element)\n    }\n\n    if (this.s.smoothType == this.s.smoothJs) {\n      if( this.s.req ) cancelAnimationFrame(this.s.req);\n      this.s.req = requestAnimationFrame(this.onReuqestAnim.bind(this))\n    }\n  }\n\n\n  normalizeDistance(n) {\n    let _n = n\n\n    if(_n < 0 ) _n = .1\n    if(_n > 10 ) _n = 10\n\n    return 10 -_n\n  }\n\n  normalizeVelocity(n) {\n    let _n = n\n\n    if(_n < 1 ) _n = 1\n    if(_n > 10 ) _n = 10\n\n    return (10 - _n) * 10\n  }\n\n  updateArray() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n\n      element.calcOffset()\n      element.calcHeight();\n      this.executeParallax(element)\n    }\n\n    if (this.s.smoothType == this.s.smoothJs) {\n      if( this.s.req ) cancelAnimationFrame(this.s.req);\n      this.s.req = requestAnimationFrame(this.onReuqestAnim.bind(this))\n    }\n  }\n\n\n\n\n  linearParallax() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n      if(element.ease == 'linear') this.executeParallax(element)\n    }\n  }\n\n\n\n\n  smoothParallax() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n\n      // Se è un item con ease smooth in css calcolo ivalori e li applico\n      if(element.ease == 'smooth' && this.s.smoothType == this.s.smoothCss) {\n        this.executeParallax(element)\n      }\n\n      // Se è un item con ease smotth in js calcolo ivalori e non li applico\n      if (element.ease == 'smooth' && this.s.smoothType == this.s.smoothJs) {\n        this.executeParallax(element,false)\n      }\n    }\n\n    // Se uso lo smooth js faccio partire il loop di RAF\n    // Al suo interno verranno filtrati tutti gli elementi senza easing\n    if (this.s.smoothType == this.s.smoothJs) {\n      if( this.s.req ) cancelAnimationFrame(this.s.req);\n      this.s.req = requestAnimationFrame(this.onReuqestAnim.bind(this))\n    }\n  }\n\n\n  // RAF\n  onReuqestAnim(timeStamp) {\n\n    const draw = (timeStamp) => {\n      let isCompleted = true;\n\n      for (let index = 0; index < this.s.itemArray.length; index++) {\n        const element = this.s.itemArray[index];\n\n           if(element.ease != 'linear') {\n            element.prevValue = element.startValue\n\n             const s = element.startValue,\n                   f = element.endValue,\n                   v = element.jsVelocity,\n                   val =  (( f - s ) / v) + s * 1;\n\n             if( element.propierties == 'opacity') {\n                 // in smooth mode use 4 value after comma so i can check very slow change\n                 element.startValue = val.toFixed(4);\n             } else {\n                 element.startValue = val.toFixed(this.s.toFixedValue);\n             }\n             element.item.css(this.setStyle(element,element.startValue));\n\n\n             if( element.prevValue != element.startValue) isCompleted = false;\n           }\n      }\n\n      // La RAF viene \"rigenerata\" fino a quando tutti gli elementi rimangono fermi\n      if(isCompleted) return;\n\n      if( this.s.req ) cancelAnimationFrame(this.s.req);\n      this.s.req = requestAnimationFrame(draw)\n    }\n\n    draw(timeStamp)\n  }\n\n\n\n  executeParallax(element,applyStyle = true) {\n\n    // Esegui i colcoli solo se l'lemento è visibile nello schemro\n    if( element.offset + element.height > eventManager.scrollTop()\n      && element.offset < eventManager.scrollTop() + eventManager.windowsHeight()) {\n\n      // Check if top-bottom etc.. or custom numer\n      const alignIsNotaNumaber = isNaN(element.align) ;\n\n      if( element.propierties == 'opacity') {\n          const vhLimit = (eventManager.windowsHeight()/100 * element.opacityEnd);\n          const vhStart = eventManager.windowsHeight() - (eventManager.windowsHeight()/100 * element.opacityStart);\n\n          let opacityVal = 0;\n          if (element.align == 'start') {\n              opacityVal = - eventManager.scrollTop();\n          } else {\n              opacityVal = (eventManager.scrollTop() + vhLimit - element.offset);\n          }\n\n          opacityVal = opacityVal * -1;\n\n          if (element.align == 'start') {\n              opacityVal = 1 - opacityVal / element.offset;\n          } else {\n              opacityVal = 1 - opacityVal / (eventManager.windowsHeight() - vhStart - vhLimit);\n          }\n\n          element.endValue = opacityVal.toFixed(2);\n\n      } else {\n\n          if (alignIsNotaNumaber) {\n              // Prefixed align\n              switch(element.align) {\n                  case 'start':\n                  element.endValue =(eventManager.scrollTop() / element.distance);\n                  break;\n\n                  case 'top':\n                  element.endValue =(((eventManager.scrollTop() - element.offset) / element.distance));\n                  break;\n\n                  case 'center':\n                  element.endValue =((((eventManager.scrollTop() + (eventManager.windowsHeight()/2 - element.height/2)) - element.offset) / element.distance));\n                  break;\n\n                  case 'bottom':\n                  element.endValue =((((eventManager.scrollTop() + (eventManager.windowsHeight() - element.height)) - element.offset) / element.distance));\n                  break;\n\n                  case 'end':\n                  element.endValue = -((eventManager.documentHeight() - (eventManager.scrollTop() + eventManager.windowsHeight())) / element.distance);\n                  break;\n              }\n          } else {\n              // VH Align\n              element.endValue =((((eventManager.scrollTop() + (eventManager.windowsHeight()/100 * element.align)) - element.offset) / element.distance));\n          }\n\n          element.endValue = element.endValue.toFixed(this.s.toFixedValue) / 2;\n      }\n\n      if (!applyStyle) return;\n\n      element.item.css(this.setStyle(element,element.endValue));\n    }\n  }\n\n\n\n  setStyle(element,val) {\n    let style = {};\n\n    // CHECK Reverse\n    if (element.reverse) {\n        switch (element.propierties) {\n            case 'opacity':\n                val = 1 - val;\n                break;\n\n            default:\n                val = -val;\n\n        }\n    }\n\n    // CHECK ONE DIRECTION ToStop/ToBack\n    if(element.propierties != 'opacity') {\n        switch(element.oneDirection) {\n            case 'toStop':\n            if(!element.reverse && val > 0 ||\n                element.reverse && val < 0) {\n                val = 0;\n            }\n            break;\n\n            case 'toBack':\n            if(!element.reverse && val > 0 ||\n                element.reverse && val < 0) {\n                val = -val;\n            }\n            break;\n        }\n    } else {\n        if(element.oneDirection == 'toBack') {\n            if( val > 1.999) val = 1.999\n            if( val < 0)  val = - val;\n            if( val > 1) val = 1 - (val % 1);\n        }\n    }\n\n    switch(element.propierties ) {\n      case 'vertical':\n        style[this.s.transformProperty] = `translate3d(0,0,0) translateY(${val}px)`;\n        break;\n\n      case 'horizontal':\n        style[this.s.transformProperty] = `translate3d(0,0,0) translateX(${val}px)`;\n        break;\n\n      case 'rotate':\n        style[this.s.transformProperty] = `translate3d(0,0,0) rotate(${val}deg)`;\n        break;\n\n      case 'opacity':\n        style['opacity'] = `${val}`;\n        break;\n\n      case 'scale':\n        // NormalizeValue\n        const scaleVal = 1 + (val/1000);\n        style[this.s.transformProperty] = `translate3d(0,0,0) scale(${scaleVal})`;\n        break;\n    }\n\n    return style\n  }\n\n\n\n  recalcPosition() {\n      this.updateArray();\n  }\n}\n\nexport const parallax = new parallaxClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { modernzier } from \"../../../js/utility/modernizr.js\"\n\nclass parallaxBackgroundClass {\n\n  constructor() {\n    if(!parallaxBackgroundClass.instance){\n      this.s = {\n        $parallaxItem: $(\"*[data-conponent='m-comp--parallax-bg']\"),\n        itemArray: [],\n        transformProperty: Modernizr.prefixed('transform')\n      }\n      parallaxBackgroundClass.instance = this;\n    }\n    return parallaxBackgroundClass.instance;\n  }\n\n  init(){\n    this.buildData();\n    eventManager.push('scroll', this.linearParallax.bind(this));\n    eventManager.push('scrollThrottle', this.smoothParallax.bind(this));\n    eventManager.push('resize', this.updateArray.bind(this));\n    eventManager.push('load', this.updateArray.bind(this));\n  }\n\n  buildData(){\n    function obj(item) {\n      this.item = item;\n      this.parent = this.item.closest('.parallax-background__container')\n      this.bgParentOffset = 0\n      this.bgParentheight = 0\n      this.yPos = 0\n      this.distance = (this.item.attr('data-distance') || 8 )\n      this.align = (this.item.attr('data-align') || 'top' )\n      this.ease = (this.item.attr('data-ease') || 'linear' )\n      this.height = 0\n      this.calcParentOffset = () => {\n        this.bgParentOffset = parseInt(this.parent.offset().top)\n      }\n      this.calcParentHeight = () => {\n        this.bgParentheight = parseInt(this.parent.outerHeight())\n      }\n      this.calcHeight = () => {\n        if( this.item.attr('data-height') ) {\n          this.height = this.bgParentheight * this.item.attr('data-height')\n        } else {\n          this.height = this.bgParentheight * 2\n        }\n      }\n    }\n\n    this.s.$parallaxItem.each((index,element) => {\n      const item=$(element)\n      this.s.itemArray.push(new obj(item));\n      this.s.itemArray[this.s.itemArray.length-1].calcParentHeight()\n      this.s.itemArray[this.s.itemArray.length-1].calcHeight()\n      this.s.itemArray[this.s.itemArray.length-1].calcParentOffset();\n      this.s.itemArray[this.s.itemArray.length-1].item.css('height',this.s.itemArray[this.s.itemArray.length-1].height);\n      this.s.itemArray[this.s.itemArray.length-1].distance = this.normalizeDistance(  this.s.itemArray[this.s.itemArray.length-1].distance)\n\n      if(this.s.itemArray[this.s.itemArray.length-1].ease == 'smooth') {\n        this.s.itemArray[this.s.itemArray.length-1].item.addClass('smooth-transition')\n      }\n    })\n  }\n\n\n  normalizeDistance(n) {\n    let _n = n\n\n    if(_n < 0 ) _n = .1\n    if(_n > 10 ) _n = 10\n\n    return 10 -_n\n  }\n\n  updateArray() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const item = this.s.itemArray[index];\n\n      item.calcParentHeight()\n      item.calcHeight()\n      item.calcParentOffset();\n      item.item.css('height',item.height);\n      this.executeParallax(item)\n    }\n  }\n\n  linearParallax() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n\n      if(element.ease == 'linear') this.executeParallax(element)\n    }\n  }\n\n  smoothParallax() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const element = this.s.itemArray[index];\n\n      if(element.ease == 'smooth') this.executeParallax(element)\n    }\n  }\n\n  executeParallax(element) {\n    // Esegui i colcoli solo se l'lemento è visibile nello schemro\n    if( element.bgParentOffset+element.bgParentheight > eventManager.scrollTop()\n      && element.bgParentOffset < eventManager.scrollTop() + eventManager.windowsHeight()) {\n\n      if(element.align == 'top') {\n        element.yPos = Math.floor(((eventManager.scrollTop() - element.bgParentOffset) / element.distance));\n      }\n\n      if(element.align == 'center') {\n        element.yPos = Math.floor((((eventManager.scrollTop() + (eventManager.windowsHeight()/2 - element.bgParentheight/2)) - element.bgParentOffset) / element.distance));\n        let gap = (element.height - element.bgParentheight)/2\n        element.yPos -= gap\n      }\n\n      if(element.align == 'bottom') {\n        element.yPos = Math.floor((((eventManager.scrollTop() + (eventManager.windowsHeight() - element.bgParentheight)) - element.bgParentOffset) / element.distance));\n        let gap = (element.height - element.bgParentheight)\n        element.yPos -= gap\n      }\n\n      let style = {};\n      style[this.s.transformProperty] = `translate3d(0,0,0) translateY(${element.yPos}px)`;\n      element.item.css(style);\n    }\n  }\n\n  recalcPosition() {\n      this.updateArray();\n  }\n}\n\nexport const parallaxBackground = new parallaxBackgroundClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass tGalleryClass {\n\n  constructor() {\n    if(!tGalleryClass.instance){\n      this.s = {\n        $containers: $(\"*[data-conponent='m-comp--tGallery']\"),\n        $items: $(\"*[data-conponent='m-comp--tGallery'] .tGallery__item\"),\n        arrItem: []\n      }\n      tGalleryClass.instance = this;\n    }\n    return tGalleryClass.instance;\n  }\n\n\n  init(){\n    this.s.$items.on('click', this.onCLick.bind(this))\n    eventManager.push('load', this.buildData.bind(this))\n    eventManager.push('load', this.setWidth.bind(this))\n    eventManager.push('resize', this.setWidth.bind(this))\n  }\n\n  buildData() {\n    function obj(item) {\n      this.container = item\n      this.item = item.find('.tGallery__item')\n      this.activeItem = item.find('.tGallery__item:nth-of-type(1)')\n      this.activeDirection = 'dx'\n      this.center = item.position().left + item.outerWidth()/2\n      this.calcCenter = () => {\n         this.center = item.position().left + item.outerWidth()/2\n      }\n    }\n\n    this.s.$containers.each((i,el) => {\n      this.s.arrItem.push(new obj($(el)));\n      this.s.arrItem[i].item.attr('data-id', i)\n    })\n  }\n\n\n  onCLick(event) {\n      const $item = $(event.target);\n\n      if(!$item.hasClass('tGallery__item--active')) {\n        const id = $item.attr('data-id'),\n              $container = this.s.arrItem[id].container,\n              $scopeItem = this.s.arrItem[id].item,\n              $innerElement = $scopeItem.not($item).find('.tGallery__item__wrap'),\n              $currentInnerElement = $item.find('.tGallery__item__wrap'),\n              itemPosX = $item.offset().left,\n              center = this.s.arrItem[id].center,\n              width = $container.outerWidth();\n\n        let  direction = $container.attr('data-diretction'),\n             scrollDestination = 0;\n\n        // Posizione il precendete elemento attivo a dx o sx\n        $scopeItem.css('order', 2)\n        if (this.s.arrItem[id].activeDirection == 'sx') {\n          this.s.arrItem[id].activeItem .css('order', 3)\n        } else {\n          this.s.arrItem[id].activeItem .css('order', 1)\n        }\n\n\n        // Posiziono l'attuale elemento attivo\n        if(itemPosX > center - 20) {\n            $currentInnerElement.addClass('tg-form-right').removeClass('tg-form-left')\n            this.s.arrItem[id].activeDirection = 'sx'\n          } else {\n            $currentInnerElement.addClass('tg-form-left').removeClass('tg-form-right')\n            this.s.arrItem[id].activeDirection = 'dx'\n          }\n          this.s.arrItem[id].activeItem = $item\n\n        // Setto l'altrnanza top/bottom\n        if (direction == 'up') {\n          direction = 'down'\n          scrollDestination = $container.position().top - (eventManager.windowsHeight() - $container.outerHeight());\n        } else {\n          direction = 'up'\n          scrollDestination = $container.position().top;\n        }\n\n        $(\"html, body\").animate({scrollTop: scrollDestination }, 350);\n\n        $container.attr('data-diretction', direction )\n        $scopeItem.not($item).removeClass('tGallery__item--active')\n\n        // Fix IE11 animationinto flex fail\n        $innerElement.css('width', width/2)\n        $item.addClass('tGallery__item--active')\n        $currentInnerElement.css('width', width)\n      }\n  }\n\n  setWidth() {\n    this.s.$items.each((i, el) => {\n      const $item = $(el),\n            $innerElement = $item.find('.tGallery__item__wrap');\n\n      let width = $item.outerWidth();\n      $innerElement.css('width', width);\n    })\n\n    for (let index = 0; index < this.s.arrItem.length; index++) {\n      const item = this.s.arrItem[index];\n      item.calcCenter()\n    }\n  }\n}\n\nexport const tGallery = new tGalleryClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass showElementClass {\n\n  constructor(data) {\n    this.s = {\n      $item: $(\"*[data-conponent='m-comp--toggleEl']\"),\n      itemArray: [],\n      entryGap: eventManager.windowsHeight()/6\n    }\n\n    this.init();\n    this.addHandler();\n  }\n\n\n  init(){\n    function obj(item, pos, hide) {\n      this.item = item;\n      this.pos = pos;\n      this.hide = hide;\n      this.firstActive = false;\n      this.onlyOnce = item.attr('data-onlyOnce') || false;\n      this.startClass = item.attr('data-startClass');\n      this.endClass = item.attr('data-endClass');\n      this.calcPos = () => {\n          this.pos=this.item.offset().top;\n      }\n    }\n\n    this.s.$item.each((index,element) => {\n      const item = $(element);\n      this.s.itemArray.push(new obj(item, item.offset().top, true));\n    })\n  }\n\n  addHandler() {\n    eventManager.push('scroll',this.checkPosition.bind(this))\n    eventManager.push('resize',this.updateArray.bind(this))\n    eventManager.push('load',this.updateArray.bind(this))\n  }\n\n  updateArray() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n      const item = this.s.itemArray[index];\n\n      item.calcPos();\n    }\n    this.s.entryGap = eventManager.windowsHeight()/6\n    this.checkPosition()\n  }\n\n  checkPosition() {\n    for (let index = 0; index < this.s.itemArray.length; index++) {\n\n      const element = this.s.itemArray[index],\n            postion = element.pos - eventManager.windowsHeight() + this.s.entryGap;\n\n      let isAble = true;\n      if(element.onlyOnce && element.firstActive) isAble = false;\n\n      if( postion < eventManager.scrollTop() && element.hide && isAble) {\n        element.item.removeClass(element.startClass).addClass(element.endClass);\n        element.hide=false;\n        element.firstActive = true;\n      } else if( postion >= eventManager.scrollTop() && !element.hide && isAble) {\n        element.item.removeClass(element.endClass).addClass(element.startClass)\n        element.hide = true\n      }\n    }\n  }\n}\n\nexport const showElement = new showElementClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass fitImagesClass {\n\n  constructor() {\n    if(!fitImagesClass.instance){\n      this.s = {\n        $imgContainers: $('.fit-img-container')\n      }\n      fitImagesClass.instance = this;\n    }\n    return fitImagesClass.instance;\n  }\n\n  init(){\n    eventManager.push('resize', this.fitImages.bind(this));\n    eventManager.push('load', this.fitImages.bind(this));\n    this.fitImages();\n  }\n\n  fitImages() {\n    this.s.$imgContainers.each((i, el) => {\n      const\n      $imgContainer = $(el),\n      $img          = $imgContainer.children('.fit-img');\n\n      if ($img.prop('complete')) {\n        this.applyClass($imgContainer, $img);\n      }\n      else {\n        $img.on('load',() => {\n          this.applyClass($imgContainer, $img);\n        });\n      }\n    });\n  }\n\n  applyClass($imgContainer, $img) {\n    const\n    containerRatio = $imgContainer.width() / $imgContainer.height(),\n    imgRatio       = $img.width() / $img.height();\n\n    if (imgRatio < containerRatio) {\n      $img.addClass('fit-width').removeClass('fit-height');\n    }\n    else {\n      $img.addClass('fit-height').removeClass('fit-width');\n    }\n  }\n\n  rescanImages() {\n      this.fitImages();\n  }\n\n}\n\nexport const fitImages = new fitImagesClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { modernzier } from \"../../../js/utility/modernizr.js\"\n\nclass toolTipClass {\n\n  constructor() {\n    if(!toolTipClass.instance){\n      this.s = {\n        // $bnt: $('.tooltip'),\n        $bnt: $(\"*[data-conponent='m-comp--tooltip']\"),\n        $body :$('body'),\n        lastToolTip: {},\n        overTool: false\n      }\n      toolTipClass.instance = this;\n    }\n    return toolTipClass.instance;\n  }\n\n  init(){\n    this.addHandler();\n  }\n\n  addHandler(){\n    this.s.$bnt.on('click' , this.onClick.bind(this));\n    this.s.$bnt.on('mouseover', this.onMouseOver.bind(this));\n    this.s.$bnt.on('mouseout' , this.onMouseOut.bind(this));\n    this.s.$body.on('click', this.bodyOnCLick.bind(this));\n  }\n\n  onClick(event) {\n    if (Modernizr.touchevents) {\n\n      // Prevent click on span tooltop\n      if( $(event.target).is($('button.tooltip')) ) {\n        this.addTollTip($(event.target) , event);\n      }\n    }\n  }\n\n  onMouseOver(event) {\n    if (!Modernizr.touchevents) {\n      // Controllo che non passi sopra il toolotip per non chiuderlo\n      const $target = $(event.target)\n\n      if(!$target.hasClass('tooltip-pop') && !this.s.overTool) {\n        this.addTollTip($target , event);\n        this.s.overTool = true;\n      }\n    }\n  }\n\n  onMouseOut(event) {\n    // Controllo che non passi sopra il toolotip per non chiuderlo\n    // event.relatedTarget = elemento di atterragio del mouseOut\n    const $realtedTarget = $(event.relatedTarget)\n\n    // Chiudo il PopUp solo se non passo dal btn al PopUp aperto\n    if(!Modernizr.touchevents && !$realtedTarget.hasClass('tooltip-pop')) {\n      this.resetTooltip();\n      this.s.overTool = false;\n    } else if ($realtedTarget.hasClass('tooltip-pop')) {\n\n      // Altrimenti agiungo un listener al popUp per vedere quando esco dallo stesso\n      this.s.overTool = true;\n      $realtedTarget.off('mouseout');\n      $realtedTarget.on('mouseout', this.outOfPopUp.bind(this))\n    }\n  }\n\n  outOfPopUp(event) {\n    const $target = $(event.target),\n        $realtedTarget = $(event.relatedTarget);\n\n    // Non chiudo il PopUp se:\n    if ( // Se entro dentro un sottoelemento del popUp ( es. un link )\n         $realtedTarget.parents('.tooltip-pop').length == 1 ||\n\n         // Se da un sottoelemento del popUp torno nel popUp\n         $realtedTarget.hasClass('tooltip-pop') ||\n\n         // Se dal pop up entro nel bottone che lo ha aperto\n         ( $realtedTarget.hasClass('tooltip') &&\n           $realtedTarget.siblings('.tooltip-pop').length == 1 )\n         ) return;\n\n      // Altrimenti chiudo il popUp:\n      $target.off('mouseout')\n      this.resetTooltip();\n      this.s.overTool = false;\n  }\n\n  bodyOnCLick(event) {\n    if( !$(event.target).is(this.s.$bnt) && !$(event.target).is($('.tooltip-pop'))  ){\n      this.resetTooltip();\n    }\n  }\n\n  addTollTip(_item,event) {\n    const $item = _item,\n        data = $item.data('tooltip'),\n        string = `<span class='tooltip-pop'>${data}</span>`\n\n    if(this.s.lastToolTip.length) {\n      if ( !this.s.lastToolTip.is($item) ) {\n        this.resetTooltip();\n      }\n    }\n\n    if( $(event.target).is($item) ) {\n      if ( !$item.hasClass('tooltip-active') ) {\n        $item.addClass('tooltip-active');\n\n        const $wrapper = $item.closest('.toolTip-wrap')\n        $wrapper.append(string);\n\n        const $toolTip = $wrapper.find('.tooltip-pop'),\n            toolTipPosX = $toolTip.offset().left,\n            toolTipPosY = $toolTip.offset().top,\n            toolTipPosWidth = $toolTip.outerWidth();\n\n        if((toolTipPosX + toolTipPosWidth) >= eventManager.windowsWidth()) {\n          $toolTip.addClass('tooltip-pop--is-right')\n        }\n\n        if(toolTipPosY - eventManager.scrollTop() < 0) {\n          $toolTip.addClass('tooltip-pop--is-bottom')\n        }\n\n        $toolTip.addClass('active');\n        this.s.lastToolTip = $item\n\n      } else {\n        $item.removeClass('tooltip-active');\n        $('.tooltip-pop').remove();\n      }\n    }\n  }\n\n  resetTooltip() {\n    if(this.s.lastToolTip.length) {\n      this.s.lastToolTip.removeClass('tooltip-active');\n      $('.tooltip-pop').remove();\n      this.s.lastToolTip = {};\n    }\n  }\n\n}\n\nexport const toolTip = new toolTipClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass totopClass {\n\n  constructor() {\n    if(!totopClass.instance){\n      this.s = {\n        $totop: $('.to-top'),\n        hide: true\n      }\n      totopClass.instance = this;\n    }\n    return totopClass.instance;\n  }\n\n  init(){\n    this.addHandler();\n    this.showArrow();\n    eventManager.push('scroll', this.showArrow.bind(this));\n  }\n\n  addHandler() {\n    this.s.$totop.on('click' , this.onClick.bind(this));\n  }\n\n  onClick(event) {\n    event.preventDefault();\n    $('html, body').animate({ scrollTop: 0 }, 400);\n  }\n\n  showArrow() {\n    if (eventManager.scrollTop() >=  eventManager.windowsWidth() && this.s.hide) {\n        this.s.$totop.addClass('visible');\n        this.s.hide=false;\n    } else if( eventManager.scrollTop() <  eventManager.windowsWidth() && !this.s.hide ) {\n        this.s.$totop.removeClass('visible');\n        this.s.hide=true;\n    }\n  }\n\n}\n\nexport const totop = new totopClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass sectionClass {\n\n    constructor() {\n        this.s = {\n            $sectionContainer: $(\"*[data-conponent='m-comp--section']\"),\n            $footer: {},\n            $section: {},\n            sectionArray: [],\n            footerPosTop: 0,\n            trasitionOn: false,\n            forceScroll: true,\n            prevId: 0\n        }\n    }\n\n    init() {\n        if(this.s.$sectionContainer.length == 0) return;\n\n        this.s.$section = this.s.$sectionContainer.find('.m-section__item');\n        this.s.$footer = $(this.s.$sectionContainer.attr('data-footer'));\n\n        function obj(item, pos, height, id , hide) {\n          this.item = item;\n          this.pos = pos;\n          this.hide = hide;\n          this.height = height;\n          this.id = id;\n          this.calcPos = () => {\n              this.pos=this.item.offset().top;\n          };\n          this.calcHeight = () => {\n              this.height=this.item.outerHeight();\n          };\n        }\n\n        this.s.$section.each((index,element) => {\n          const item = $(element);\n          this.s.sectionArray.push(new obj(\n              item,\n              item.offset().top,\n              item.outerHeight(),\n              index,\n              true )\n           );\n        })\n\n        this.s.footerPosTop = this.s.$footer.offset().top;\n        this.addHandler();\n    }\n\n    addHandler() {\n      eventManager.push('load',this.slideTo.bind(this))\n      eventManager.push('resize',this.updateArray.bind(this))\n      eventManager.push('scrollEnd',this.slideTo.bind(this))\n    }\n\n    updateArray() {\n      for (let index = 0; index < this.s.sectionArray.length; index++) {\n        const item = this.s.sectionArray[index];\n        item.calcPos();\n        item.calcHeight();\n      }\n\n      this.s.footerPosTop = this.s.$footer.offset().top;\n    }\n\n\n    slideTo() {\n        if(this.s.trasitionOn) return;\n\n        if(eventManager.scrollTop() < this.s.$sectionContainer.offset().top) {\n            this.setDataAttr(0);\n            this.s.prevId = 0\n            return;\n        } else if( this.s.footerPosTop < eventManager.scrollTop() + eventManager.windowsHeight()) {\n            this.setDataAttr(this.s.sectionArray.length - 1);\n            this.s.prevId = this.s.sectionArray.length - 1\n            return;\n        }\n\n        for (let index = 0; index < this.s.sectionArray.length; index++) {\n            const element = this.s.sectionArray[index];\n            let postion = element.pos - eventManager.windowsHeight();\n            let id = element.id;\n\n            if( eventManager.scrollDirection() == 'DOWN') {\n                if( postion  < eventManager.scrollTop()\n                && postion + element.height > eventManager.scrollTop()) {\n\n                    if(this.s.forceScroll &&\n                       id - this.s.prevId >= 2 &&\n                       id - this.s.prevId < 3) {\n                            id --;\n                            const element = this.s.sectionArray[index - 1];\n                            postion = element.pos - eventManager.windowsHeight();\n                    }\n\n                    this.s.trasitionOn = true;\n                    $([document.documentElement, document.body]).animate({\n                        scrollTop: postion + element.height\n                    }, 500, () => {\n                        this.s.trasitionOn = false;\n                        this.setDataAttr(id)\n                        this.s.prevId = id\n                    });\n                }\n            } else {\n                if( postion + element.height > eventManager.scrollTop()\n                && postion + element.height < eventManager.scrollTop() + eventManager.windowsHeight()) {\n                    this.s.trasitionOn = true;\n                    $([document.documentElement, document.body]).animate({\n                        scrollTop: postion\n                    }, 500, () => {\n                        this.s.trasitionOn = false;\n                        this.setDataAttr(id - 1)\n                        this.s.prevId = id - 1\n                    });\n                }\n            }\n        }\n    }\n\n    setDataAttr(id) {\n        this.s.$sectionContainer.attr('data-section-id', id)\n    }\n\n\n}\n\nexport const section = new sectionClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nexport class offsetSliderClass {\n\n  constructor(data) {\n    this.s = {\n      $container: $(`${data.container}`),\n      containerWidth: 0,\n      $el: $(`${data.container}`).find('.offset-slider__item'),\n      $prevBtn: $(`${data.container}`).find('.offset-slider__prev'),\n      $nextBtn: $(`${data.container}`).find('.offset-slider__next'),\n      step: data.step || 5,\n      drivenElIndex: 0,\n      drivenTranslatePosition: 0,\n      advancement: 0,\n      activeStep: 0,\n      elArray: [],\n      transformProperty: Modernizr.prefixed('transform'),\n    }\n    this.init();\n  }\n\n  init() {\n    if (this.s.$container.length == 0 ) return;\n\n    this.setData();\n    this.getDrivenIndex();\n    this.setWidth();\n    this.setContainerWidth();\n    this.setAdvancement();\n    this.initSwipe();\n    this.s.$prevBtn.on('click', this.prevStep.bind(this))\n    this.s.$nextBtn.on('click', this.nextStep.bind(this))\n\n    eventManager.push('resize', this.setAdvancement.bind(this));\n    eventManager.push('resize', this.setContainerWidth.bind(this));\n    eventManager.push('resize', this.setDriveElPosition.bind(this));\n    eventManager.push('resize', this.setOtherElPosition.bind(this));\n  }\n\n\n  setData() {\n    const _this = this;\n\n    function obj(item) {\n      this.item = item;\n      this.width = item.attr('data-width');\n      this.advancement = 0;\n      this.driven = (item.attr('data-driven') === 'true') || false;\n      this.calcAdvancement = () => {\n        this.advancement = (this.width - this.s.containerWidth) / parseInt(_this.s.step)\n      }\n    }\n\n    this.s.$el.each((index, element) => {\n      this.s.elArray.push(new obj($(element)));\n    });\n  }\n\n  checkIfScrollable() {\n     return this.s.elArray[this.s.drivenElIndex].width > eventManager.windowsWidth();\n  }\n\n  initSwipe() {\n    const $cont = this.s.elArray[this.s.drivenElIndex].item;\n\n    let isDown = false,\n      startX = 0,\n      endX = 0,\n      val = 0,\n      walk = 0;\n\n    this.s.$container.on('mousedown touchstart', (e) => {\n      if (!this.checkIfScrollable()) return;\n\n      this.s.$el.addClass('no-transition ');\n      val = this.s.drivenTranslatePosition;\n\n      if (e.type == 'mousedown') {\n        startX = e.pageX;\n      } else {\n        const touch = e.touches[0];\n        startX = touch.pageX;\n      }\n      isDown = true;\n    });\n\n    this.s.$container.on('mouseleave', () => {\n      if (!this.checkIfScrollable()) return;\n\n      this.s.drivenTranslatePosition = val;\n      isDown = false;\n      this.updateIndex();\n    });\n\n    this.s.$container.on('mouseup touchend', () => {\n      if (!this.checkIfScrollable()) return;\n\n      this.s.drivenTranslatePosition = val;\n      isDown = false;\n      this.updateIndex();\n    });\n\n    this.s.$container.on('mousemove touchmove', (e) => {\n\n      if (!isDown || !this.checkIfScrollable()) return;\n      // e.preventDefault();\n\n      if (e.type == 'mousemove') {\n        endX = e.pageX\n      } else {\n        const touch = e.touches[0];\n        endX = touch.pageX;\n      }\n\n      walk = startX - endX;\n      val = this.s.drivenTranslatePosition - walk;\n\n      let style = {};\n      style[this.s.transformProperty] = `translate3d(0,0,0) translateX(${val}px)`;\n      $cont.css(style);\n\n      this.setOtherElPosition(val);\n    });\n\n  }\n\n  setContainerWidth() {\n    this.s.containerWidth = this.s.$container.outerWidth();\n  }\n\n  updateIndex() {\n\n    for (let index = 0; index < this.s.step; index++) {\n      let min = index * this.s.advancement,\n        max = (index + 1) * this.s.advancement;\n\n      this.s.$el.removeClass('no-transition ');\n\n      if (-this.s.drivenTranslatePosition > min && -this.s.drivenTranslatePosition < max) {\n        let half = min + (this.s.advancement/2);\n\n        if (-this.s.drivenTranslatePosition >= half ) {\n          this.s.activeStep = -(index + 1);\n        } else {\n          this.s.activeStep = -index;\n        }\n\n        this.setDriveElPosition();\n        this.setOtherElPosition();\n        break;\n\n      } else if (this.s.drivenTranslatePosition > 0) {\n        this.s.activeStep = 0;\n        this.setDriveElPosition();\n        this.setOtherElPosition();\n        break;\n\n      } else if (-this.s.drivenTranslatePosition > (this.s.step * this.s.advancement)) {\n        this.s.activeStep = -this.s.step;\n        this.setDriveElPosition();\n        this.setOtherElPosition();\n        break;\n      }\n    }\n  }\n\n  getDrivenIndex() {\n    for (let index = 0; index < this.s.elArray.length; index++) {\n      const el = this.s.elArray[index];\n\n      if (el.driven) {\n        this.s.drivenElIndex = index;\n      }\n    }\n  }\n\n  setWidth() {\n    for (let index = 0; index < this.s.elArray.length; index++) {\n      const el = this.s.elArray[index];\n      el.item.css('width', `${el.width}px`);\n    }\n  }\n\n  setAdvancement() {\n    const el = this.s.elArray[this.s.drivenElIndex];\n    this.s.advancement = (el.width - this.s.containerWidth) / parseInt(this.s.step);\n  }\n\n  prevStep() {\n    if(this.s.activeStep >= 0 || !this.checkIfScrollable())  return;\n\n    this.s.activeStep++;\n    this.s.$el.removeClass('no-transition ');\n    this.setDriveElPosition();\n    this.setOtherElPosition();\n  }\n\n  nextStep() {\n    if(this.s.activeStep <= -this.s.step || !this.checkIfScrollable())  return;\n\n    this.s.activeStep--;\n    this.s.$el.removeClass('no-transition ');\n    this.setDriveElPosition();\n    this.setOtherElPosition();\n  }\n\n  setDriveElPosition() {\n    const el = this.s.elArray[this.s.drivenElIndex],\n      val = this.s.activeStep * this.s.advancement;\n\n    let style = {};\n    style[this.s.transformProperty] = `translate3d(0,0,0) translateX(${val}px)`;\n    el.item.css(style);\n\n    this.s.drivenTranslatePosition = val;\n  }\n\n  setOtherElPosition(val = null) {\n    let walk = 0;\n\n    if (val) {\n      walk = val;\n    } else {\n      walk = this.s.drivenTranslatePosition;\n    }\n\n    for (let index = 0; index < this.s.elArray.length; index++) {\n      const el = this.s.elArray[index],\n        drivenEl = this.s.elArray[this.s.drivenElIndex];\n\n      if (!el.driven) {\n        const val = ((el.width - this.s.containerWidth) * walk) / (drivenEl.width - this.s.containerWidth);\n        let style = {};\n        style[this.s.transformProperty] = `translate3d(0,0,0) translateX(${val}px)`;\n        el.item.css(style);\n      }\n    }\n  }\n\n}\n","import { eventManager } from \"./eventManager.js\";\n\nexport const mq = {\n\n  $: {\n    'x-small': '320',\n    'small':   '360',\n    'medium':  '600',\n    'tablet':  '768',\n    'desktop': '992',\n    'large':   '1200',\n    'x-large':   '1400'\n  },\n\n  max: function(breakpoint) {\n    return eventManager.windowsWidth() < mq.$[breakpoint];\n  },\n\n  min: function(breakpoint) {\n    return eventManager.windowsWidth() >= mq.$[breakpoint];\n  }\n}\n","import { modernzier } from \"../../../js/utility/modernizr.js\"\nimport { eventManager } from \"../../../js/base/eventManager.js\";\nimport { mq } from \"../../../js/base/mediaManager.js\";\n\nexport class menuClass {\n\n  constructor(data) {\n    this.s = {\n      $componentWrepper: $(`${data.componentWrepper}`),\n      direction: data.direction || 'horizontal',\n      sideDirection: data.sideDirection || 'left',\n      offCanvas: typeof data.offCanvas === \"undefined\" ? true : data.offCanvas,\n      $offCanvasBack: {},\n      $mainMenu: {},\n      $toggle: {},\n      $itemHasChildren: {},\n      $firstLevelItem: {},\n      $allSubmenu: {},\n      $toggleContainer: {},\n      $body: $('body'),\n      subMenuWidth: 0,\n      toggleWrapHeight: 0,\n      menuArr: [],\n      menuIsOpen: false,\n      lastWindowsWidth: 0,\n\n      // CONSTANTI\n      // ( CLASSI DOM FOR QUERY )\n      NAV_WRAP: 'nav-wrap', // WRAPPER OF TOGGLE AND MENU\n      NAV: 'nav.nav', // HTML5 nav element\n      MAIN_MENU: 'main-menu', // MAIN UL\n      MENU_ITEM: 'menu-item', // LI LEMENT\n      MENU_ITEM_HAS_CHILDREN: 'menu-item-has-children', // LI WITH SUBMENU INSIDE\n      SUB_MENU: 'sub-menu', // ALL SUBMENU\n      TOGGLE_CONTAINER: 'toggle-wrap', // Toggle container\n      TOOGLE_BTN: 'toggle-element', // Toggle btn\n      // ADDED ELEMENT\n      ARROW_SUBMENU: 'arrow-submenu', // LI ARROW\n      OFFCANVAS_ARROW_BACK: 'main-arrow-back', // OFF CANVAS ARROW\n      // ADDED CLASS\n      NAV_VERTICAL: 'nav--vertical',\n      NAV_VERTICAL_LEFT: 'nav--vertical--left',\n      NAV_VERTICAL_RIGHT: 'nav--vertical--right',\n      NAV_HORIZONTAL: 'nav--horizontal',\n      NAV_OFFCANVAS: 'nav--offCanvas',\n      NAV_DROPDOWN: 'nav--dropDown',\n      IS_SELECTED: 'is-selected', // SUBMENU VISIBLE SCROLABLE\n      ARROW_SELECTED: 'arrow-selected', // ITEM ARROW ACTIVE ( AND PARENTS ARROW )\n      ACTIVE: 'active', // OPENED MENU VISIBLE AND PARENTS\n      OPEN: 'open', // TOGGLE OPENED\n      MENU_ON: 'menu-on' // MAIN MENU ACTIVE\n\n    }\n    this.init()\n  }\n\n  init() {\n    if (this.s.$componentWrepper.length == 0 ) return;\n\n    this.s.$mainWrap = this.s.$componentWrepper.find(`.${this.s.NAV_WRAP}`);\n    this.s.$menu = this.s.$componentWrepper.find(`.${this.s.NAV}`);\n    this.s.$toggle = this.s.$componentWrepper.find(`.${this.s.TOOGLE_BTN}`);\n    this.s.$mainMenu = this.s.$menu.find(`.${this.s.MAIN_MENU}`);\n    this.s.$offCanvasBack = this.s.$toggle.siblings(`.${this.s.OFFCANVAS_ARROW_BACK}`);\n    this.s.$itemHasChildren = this.s.$menu.find(`.${this.s.MENU_ITEM_HAS_CHILDREN}`);\n    this.s.$firstLevelItem = this.s.$menu.find(`.${this.s.MAIN_MENU} > .${this.s.MENU_ITEM_HAS_CHILDREN} > .${this.s.SUB_MENU}`);\n    this.s.$allSubmenu = this.s.$menu.find(`.${this.s.SUB_MENU}`);\n    this.s.$toggleContainer = this.s.$toggle.closest(`.${this.s.TOGGLE_CONTAINER}`);\n\n    if (this.s.direction == 'vertical') {\n      this.s.$mainWrap.addClass(this.s.NAV_VERTICAL)\n\n      if(this.s.sideDirection == 'left') {\n        this.s.$mainWrap.addClass(this.s.NAV_VERTICAL_LEFT)\n      } else {\n        this.s.$mainWrap.addClass(this.s.NAV_VERTICAL_RIGHT)\n      }\n    } else {\n      this.s.$mainWrap.addClass(this.s.NAV_HORIZONTAL)\n    }\n\n\n    if (this.s.offCanvas) {\n      this.s.$mainWrap.addClass(this.s.NAV_OFFCANVAS);\n    } else {\n      this.s.$mainWrap.addClass(this.s.NAV_DROPDOWN);\n    }\n\n    this.s.lastWindowsWidth = eventManager.windowsWidth();\n    this.getSubmenuWidth();\n    this.getToggleWrapHeight();\n    this.addArrow();\n    this.setData();\n    this.resizeMenu();\n    this.addHandler();\n    eventManager.push('resize', this.getSubmenuWidth.bind(this));\n    eventManager.push('resize', this.getToggleWrapHeight.bind(this));\n    eventManager.push('resize', this.resizeMenu.bind(this));\n\n    if (this.s.direction == 'horizontal') {\n      this.SetPosition();\n      eventManager.push('resize', this.SetPosition.bind(this));\n    }\n  }\n\n  getToggleWrapHeight() {\n    const root = document.documentElement;\n\n    this.s.toggleWrapHeight = this.s.$toggleContainer.outerHeight();\n    root.style.setProperty('--toggle-h', this.s.toggleWrapHeight + \"px\");\n  }\n\n  getSubmenuWidth(){\n    this.s.subMenuWidth = this.s.$allSubmenu.outerWidth();\n  }\n\n  setData() {\n    const _that = this;\n\n    function obj(item) {\n      let maxLevel = 0;\n      this.item = item;\n      this.submenu = this.item.find(`.${_that.s.SUB_MENU}`);\n      this.parentItem = this.item.parents(`.${_that.s.MENU_ITEM_HAS_CHILDREN}`);\n      this.parentItemPos = 0;\n      this.parentItemWidth = 0;\n      this.submenu.each((index,element) => {\n        const numSubmenuParents = $(element).parents(`.${_that.s.SUB_MENU}`).length;\n        if( numSubmenuParents > maxLevel) {\n          maxLevel = numSubmenuParents;\n        }\n      });\n      this.maxLevel = maxLevel;\n      this.totalWidth = 0;\n    }\n\n    this.s.$firstLevelItem.each((index,element) => {\n      this.s.menuArr.push(new obj($(element)));\n    });\n  }\n\n  addArrow() {\n    // DESKTOP TOUCH SHOW SUBMENU\n    const $arrow=$(`<div class='${this.s.ARROW_SUBMENU}'></div>`);\n    this.s.$itemHasChildren.prepend($arrow);\n  }\n\n  addHandler() {\n   if (!this.s.offCanvas) this.s.$body.on('click' , this.bodyOnCLick.bind(this));\n   this.s.$itemHasChildren.find(`.${this.s.ARROW_SUBMENU}`).on('click', this.arrowOnClick.bind(this));\n   this.s.$toggle.on('click', this.toggleOnCLick.bind(this));\n   this.s.$offCanvasBack.on('click', this.offCanvasBack.bind(this));\n  }\n\n  offCanvasBack(evt) {\n    if( mq.min('tablet') ) return;\n\n    let $menu = this.s.$allSubmenu.filter((index, element) => {\n      return ($(element).hasClass('is-selected'))\n    });\n\n    // Controllo se devo chiudere un submenu o il menu principale\n    if ($menu.length > 0) {\n      $menu.removeClass(this.s.ACTIVE);\n      // Rimuovo la propietà overflow-y dal menu che vado a chiudere\n      $menu.removeClass(this.s.IS_SELECTED);\n      // Resetto un eventuale scroll nel menu un attimo dopo.\n      // Il setTimeout viene usato per estetica, resetto lo scroll topo solo a menu chiuso\n      setTimeout(() => {\n        $menu.scrollTop(0);\n      }, 350);\n\n      // Constrollo a quale Submenu/menu (parente) attivare la propietà overflow-y: auto;\n      // Solo il menu/submenu selezionato può scrollare\n      const $parentMenu = $menu.closest(`.${this.s.SUB_MENU}.${this.s.ACTIVE}`);\n      if ($parentMenu.length > 0) {\n        $parentMenu.addClass(this.s.IS_SELECTED);\n      } else {\n        this.s.$mainMenu.addClass(this.s.IS_SELECTED);\n      }\n      ///////////\n\n    } else {\n      this.closeMainMenu();\n    }\n  }\n\n  bodyOnCLick(evt) {\n    if ( !$(evt.target).parents(`.${this.s.NAV_WRAP}`).length ) {\n      this.closeSubmenu();\n      if( mq.max('tablet') && this.s.menuIsOpen) {\n        this.closeMainMenu();\n      }\n    }\n  }\n\n  toggleOnCLick() {\n    if (this.s.$mainWrap.hasClass(this.s.MENU_ON)){\n      this.closeSubmenu();\n      this.closeMainMenu();\n    } else {\n      this.openMainMenu();\n    }\n  }\n\n  arrowOnClick(event) {\n    const $target = $(event.target),\n          $submenu=$target.siblings(`.${this.s.SUB_MENU}`),\n          $item = $target.parent(`.${this.s.MENU_ITEM}`),\n          $parentsSubmenu = $item.parents(`.${this.s.SUB_MENU}`),\n          $parentsArrow = $parentsSubmenu.siblings(`.${this.s.ARROW_SUBMENU}`);\n\n    // Attivo il click sull'arrow solo per monitor touch e mobile\n    if( Modernizr.touchevents || mq.max('tablet')) {\n\n      // Chiudo tutti i submenu non necessari ( non parenti del selezionato).\n     this.s.$allSubmenu.not($parentsSubmenu).not($submenu).removeClass(this.s.ACTIVE);\n     this.s.$itemHasChildren.find(`.${this.s.ARROW_SUBMENU}`).not($target).not($parentsArrow).removeClass(this.s.ARROW_SELECTED);\n\n     if( mq.max('tablet') && !this.s.offCanvas) {\n       this.s.$allSubmenu.not($parentsSubmenu).not($submenu).slideUp(() => {\n         eventManager.execute('resize');\n       });\n     }\n\n     if( $submenu.hasClass(this.s.ACTIVE) ) {\n       // Chiudo il menu\n       $submenu.removeClass(this.s.ACTIVE)\n       $target.removeClass(this.s.ARROW_SELECTED)\n       if( mq.max('tablet') && !this.s.offCanvas) {\n         $submenu.slideUp(() => {\n           eventManager.execute('resize');\n         })\n       }\n     } else {\n       // Apro il menu\n       $submenu.addClass(this.s.ACTIVE)\n       $target.addClass(this.s.ARROW_SELECTED)\n\n       // Logica offCanvas\n       if(this.s.offCanvas) {\n          this.s.$mainMenu.removeClass(this.s.IS_SELECTED);\n          this.s.$allSubmenu.not($submenu).removeClass(this.s.IS_SELECTED);\n\n          if( mq.max('tablet') ) {\n            // Attivo la propietà overflow-y: auto; nel menu selezionato\n            $submenu.addClass(this.s.IS_SELECTED);\n\n            // Posiziono il menu in verticale rispetto al menu parente;\n            let gap = this.s.$mainMenu.scrollTop();\n            if($parentsSubmenu.length) {\n              gap = $parentsSubmenu.scrollTop();\n            }\n\n            $submenu.css('top', gap  + 'px');\n          }\n       }\n\n       if( mq.max('tablet') && !this.s.offCanvas) {\n         $submenu.slideDown(() => {\n           eventManager.execute('resize');\n         })\n       }\n\n     }\n    }\n  }\n\n  SetPosition(){\n    if( mq.min('tablet') ) {\n      for (let index = 0; index < this.s.menuArr.length; index++) {\n        const item = this.s.menuArr[index];\n\n        item.parentItemPos = item.parentItem.position().left;\n        item.parentItemWidth = item.parentItem.outerWidth();\n        item.totalWidth = item.parentItemPos + item.parentItemWidth + (item.maxLevel * this.s.subMenuWidth);\n\n        if( item.totalWidth > eventManager.windowsWidth() ) {\n          item.item.css('right' , 0).css('left' , 'auto');\n          item.submenu.css('right' , '100%').css('left' , 'auto');\n        } else {\n          item.item.css('left' , '0').css('riht' , 'auto');\n          item.submenu.css('left' , '100%').css('right' , 'auto');\n        }\n      }\n    }\n  }\n\n  closeMainMenu(immediate) {\n    if( immediate ){\n      if(!this.s.offCanvas) this.s.$menu.slideUp(0,() => {\n        eventManager.execute('resize');\n      })\n    } else {\n      if(!this.s.offCanvas) this.s.$menu.slideUp(() => {\n        eventManager.execute('resize');\n      })\n    }\n\n    this.s.$mainWrap.removeClass(this.s.MENU_ON)\n    this.s.menuIsOpen = false\n    eventManager.removeBodyOverflow();\n\n    // Azzero lo scroll top di tutti i menu\n    this.s.$mainMenu.scrollTop(0).removeClass(this.s.IS_SELECTED);\n    this.s.$allSubmenu.scrollTop(0);\n\n    this.s.$allSubmenu.removeClass(this.s.ACTIVE);\n    // Rimuovo la propietà overflow-y dal menu che vado a chiudere\n    this.s.$allSubmenu.removeClass(this.s.IS_SELECTED);\n  }\n\n  openMainMenu() {\n    if(!this.s.offCanvas) {\n      this.s.$menu.slideDown(() => {\n        eventManager.execute('resize');\n      })\n    } else {\n      // Attivo la propietà overflow-y: auto; nel menu principale\n      this.s.$mainMenu.addClass(this.s.IS_SELECTED);\n      eventManager.setBodyOverflow();\n    }\n    this.s.$mainWrap.addClass(this.s.MENU_ON)\n    this.s.menuIsOpen = true\n  }\n\n  closeSubmenu() {\n    this.s.$allSubmenu.removeClass(this.s.ACTIVE);\n    this.s.$itemHasChildren.find(`.${this.s.ARROW_SUBMENU}`).removeClass(this.s.ARROW_SELECTED);\n\n    if( mq.min('tablet') ) {\n      this.s.$allSubmenu.css('display' , '');\n    } else {\n      if(!this.s.offCanvas) this.s.$allSubmenu.slideUp(() => {\n        eventManager.execute('resize');\n      });\n    }\n  }\n\n  resizeMenu() {\n    if( this.s.lastWindowsWidth != eventManager.windowsWidth() ) {\n      this.closeSubmenu();\n      this.closeMainMenu(true);\n    }\n    this.s.lastWindowsWidth = eventManager.windowsWidth();\n\n    this.s.$allSubmenu.css('top','');\n\n    if( mq.max('tablet')) {\n      this.s.$allSubmenu.css({'left':'','right': ''})\n    }\n  }\n\n  CloseOnScroll() {\n    if( mq.max('tablet') && this.s.menuIsOpen) {\n      this.closeSubmenu();\n      this.closeMainMenu();\n    }\n  }\n\n}\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { mq } from \"../../../js/base/mediaManager.js\";\n\nexport class accordionClass {\n\n  constructor(data) {\n\n      this.s = {\n          $item: data.item,\n          $btn: $(`${data.button}`),\n          $target: $(`${data.target}`),\n          breackpoint: data.breackpoint || 'x-small',\n          queryType: data.queryType || 'min',\n          multiple: typeof data.multiple === \"undefined\" ? false : data.multiple\n      }\n    this.init();\n  }\n\n  init() {\n      this.s.$btn.on('click', this.openItem.bind(this))\n  }\n\n  openItem(e) {\n      if(!mq[this.s.queryType](this.s.breackpoint)) return;\n\n      const $btn = $(e.target),\n            $target = $btn.closest(this.s.$item).find(this.s.$target);\n\n      if ( !this.s.multiple ) {\n          this.s.$btn.not($btn).removeClass('active');\n          this.s.$target.not($target).slideUp(() => {\n            eventManager.execute('resize');\n          });\n      }\n\n      if(!$btn.hasClass('active')) {\n          $btn.addClass('active');\n          $target.slideDown(() => {\n            eventManager.execute('resize');\n          });\n      } else {\n          $btn.removeClass('active');\n          $target.slideUp(() => {\n            eventManager.execute('resize');\n          });\n      }\n  }\n\n  closeAllItem() {\n      this.s.$btn.removeClass('active');\n      this.s.$target.slideUp(() => {\n        eventManager.execute('resize');\n      });\n  }\n}\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nexport class popToggleClass {\n\n  constructor(data) {\n      this.s = {\n        name: data.name || 'pippo',\n        $btn: $(`${data.openButton}`),\n        $target: $(`${data.target}`),\n        $closebtn: $(`${data.closeButton}`) || {},\n        openCallBack: [], // funzioni opzionale da eseguire all'apertura del sigolo PopUp\n        closeCallBack: [], // funzioni opzionale da eseguire alla chiusura del sigolo PopUp\n        isDropDown: typeof data.isDropDown === \"undefined\" ? false : data.isDropDown,\n        manager: data.manager\n      }\n      this.init();\n  }\n\n  init() {\n      this.s.manager.pushToggle(this);\n      this.s.$btn.on('click', (e) => this.openPop());\n      this.s.$closebtn.on('click', (e) => this.closePop());\n  }\n\n  openPop() {\n      if( this.s.$target.hasClass('active') ) {\n        this.closePop();\n    } else {\n        this.s.$target.addClass('active');\n        if(this.s.isDropDown) this.s.$target.slideDown(300, () => {\n          eventManager.execute('resize');\n        });\n\n        if(this.s.openCallBack.length) {\n            for (let index = 0; index < this.s.openCallBack.length; index++) {\n                const item = this.s.openCallBack[index];\n                item();\n            }\n        }\n\n      }\n      this.s.manager.onOpenPop(this.s.name);\n  }\n\n  closePop() {\n      if( this.s.$target.hasClass('active') ) {\n          this.s.$target.removeClass('active');\n          if(this.s.isDropDown) this.s.$target.slideUp(300, () => {\n            eventManager.execute('resize');\n          });\n\n          if(this.s.closeCallBack.length) {\n              for (let index = 0; index < this.s.closeCallBack.length; index++) {\n                  const item = this.s.closeCallBack[index];\n                  item();\n              }\n          }\n      }\n  }\n\n  set openCallBack(fn) {\n      this.s.openCallBack.push(fn);\n  }\n\n  set closeCallBack(fn) {\n      this.s.closeCallBack.push(fn);\n  }\n\n  get name() {\n      return this.s.name;\n  }\n}\n","export class popToggleManagerClass {\n\n  constructor() {\n    this.s = {\n        popArray: [],\n        functionArray: []\n    }\n  }\n\n  pushToggle(_fn) {\n      this.s.popArray.push(_fn)\n  }\n\n  // // funzione opzionale da eseguire all'apertura del sigolo PopUp\n  callBackFunction(_fn) {\n      this.s.functionArray.push(_fn)\n  }\n\n  onOpenPop(_name) {\n\n      for (let index = 0; index < this.s.popArray.length; index++) {\n          const item = this.s.popArray[index];\n\n          if(item.name != _name) {\n            item.closePop();\n        }\n      }\n\n      for (let index = 0; index < this.s.functionArray.length; index++) {\n          const item = this.s.functionArray[index];\n          item();\n      }\n  }\n\n  closeAllPop() {\n      for (let index = 0; index < this.s.popArray.length; index++) {\n        const item = this.s.popArray[index];\n        item.closePop();\n      }\n  }\n}\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nexport class overlayClass {\n\n  constructor(data) {\n      this.s = {\n          $overlay: $(`${data.element}`),\n          delay: data.delay || 300,\n          callBack: null,\n          bodyOverflow: false,\n          $body: $('body'),\n\n      }\n    this.init();\n  }\n\n  init() {\n      this.s.$overlay.on('click', this.onClick.bind(this))\n  }\n\n  onClick() {\n      this.close();\n\n      if(this.s.callBack != null) {\n          this.s.callBack();\n      }\n  }\n\n\n  open(data) {\n      let top = 0,\n          right = 0,\n          bottom = 0,\n          left = 0,\n          dataName = '';\n\n      setTimeout(() => {\n          this.s.bodyOverflow = data.bodyOverflow;\n          if( this.s.bodyOverflow) eventManager.setBodyOverflow();\n\n          if ( isNaN(data.top) ) {\n              const $el = $(`${data.top}`);\n              top = $el.offset().top + $el.outerHeight();\n          } else {\n              top = data.top;\n          }\n\n          if ( isNaN(data.right) ) {\n              const $el = $(`${data.right}`);\n              right =  eventManager.windowsWidth() - $el.offset().left;\n          } else {\n              right = data.right;\n          }\n\n          if ( isNaN(data.bottom) ) {\n              const $el = $(`${data.bottom}`);\n              bottom = eventManager.windowsHeight() - $el.offset().top;\n          } else {\n              bottom = data.bottom;\n          }\n\n          if ( isNaN(data.left) ) {\n              const $el = $(`${data.left}`);\n              left = $el.offset().left + $el.outerWidth();\n          } else {\n              left = data.left;\n          }\n\n          if(data.name) dataName = data.name;\n\n          this.s.$overlay.css({'top': top, 'bottom': bottom, 'left': left, 'right': right});\n          this.s.$overlay.addClass('active');\n          this.s.$overlay.attr('data-name', dataName)\n      }, this.s.delay);\n  }\n\n  close() {\n      this.s.$overlay.removeClass('active');\n      this.s.$overlay.attr('data-name', '')\n      if( this.s.bodyOverflow ) eventManager.removeBodyOverflow();\n  }\n\n  set callback(fn) {\n      this.s.callBack = fn;\n  }\n\n}\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass lightImageDescriptionClass {\n\n  constructor() {\n    if(!lightImageDescriptionClass.instance){\n      this.s = {\n        $descriptionBox: []\n      }\n      lightImageDescriptionClass.instance = this;\n    }\n    return lightImageDescriptionClass.instance;\n  }\n\n  init(data) {\n    const _data = data\n\n    if( (_data.title || _data.description != '') ) {\n\n      this.s.$descriptionBox = _data.$content.closest('.lightbox').find('.lightbox__description');\n      const $title = this.s.$descriptionBox.find('.lightbox__title'),\n          $description = this.s.$descriptionBox.find('.lightbox__paragraph');\n\n      if( _data.title != '' ) {\n        $title.html('<h2>' + _data.title + '</h2>')\n      }\n      if( _data.description != '' ) {\n        $description.html('<p>' + _data.description + '</p>')\n      }\n\n      const $HideDescriptionLightbox = this.s.$descriptionBox.find('.lightbox__description__btn');\n      $HideDescriptionLightbox.off('click')\n      $HideDescriptionLightbox.on('click',(e) => {\n        const $btn = $(e.target);\n        this.s.$descriptionBox = $btn.closest('.lightbox__description');\n        if( this.s.$descriptionBox.hasClass('show') ) {\n          this.s.$descriptionBox.removeClass('show');\n          this.s.$descriptionBox.addClass('hide');\n        } else {\n          this.s.$descriptionBox.addClass('show');\n          this.s.$descriptionBox.removeClass('hide');\n        }\n      });\n\n      this.s.$descriptionBox.addClass('active');\n    }\n  }\n\n}\n\nexport const lightImageDescription = new lightImageDescriptionClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\n\nclass lightboxCommonDynamicClass {\n\n  constructor() {\n    if(!lightboxCommonDynamicClass.instance){\n      lightboxCommonDynamicClass.instance = this;\n    }\n    return lightboxCommonDynamicClass.instance;\n  }\n\n  // RESETTO IL CONTENUTO DELLA DESCRIZIONE LIGHTBOX SE TALE ELEMENTO ESISTE\n  // ALLA CHIUSURA DELLA LIGHTBOX O AL CAMBIO LIOGHTBOX\n  resetDescriptionBox(data) {\n    const _data = data,\n          $descriptionBox = _data.$content.closest('.lightbox').find('.lightbox__description');\n\n    if( $descriptionBox.length ) {\n      const $title = $descriptionBox.find('.lightbox__title'),\n            $description = $descriptionBox.find('.lightbox__paragraph'),\n            $HideDescriptionLightbox = $descriptionBox.find('.lightbox__description__btn');\n\n      $title.html('');\n      $description.html('');\n      $descriptionBox.removeClass('active');\n      $HideDescriptionLightbox.off('click');\n    }\n  }\n\n  // CAMBIO LO STATO HIDE SHOW DELLA DESCRIZIONE SOLO SE CHIUDO LA LIGHTBOX\n  resetDescriptionBoxHideShow(data) {\n    const _data = data,\n          $descriptionBox = _data.$content.closest('.lightbox').find('.lightbox__description');\n\n    if( $descriptionBox.length ) {\n      $descriptionBox.removeClass('hide');\n      $descriptionBox.addClass('show');\n    }\n  }\n\n  // CANCELLO IL CONTENTO SOLO SE DINAMICO ( E' UN CONTENUTO DI TIPO IMMAGINE )\n  onCloseLightbox(data) {\n    const _data = data\n\n    if ( _data.$content.length  && _data.type == 'dynamic') {\n      _data.$content.html(\"\");\n      _data.$content.css('width' , '200px')\n      .css('height' , '200px');\n    }\n    lightboxCommonDynamic.resetDescriptionBox(_data);\n    lightboxCommonDynamic.resetDescriptionBoxHideShow(_data);\n  }\n\n  calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {\n    const ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n    return { width: srcWidth*ratio, height: srcHeight*ratio };\n  }\n\n}\n\nexport const lightboxCommonDynamic = new lightboxCommonDynamicClass()\n","export class loadImages {\n\n  constructor(images,callback) {\n    this.s = {\n      $images: images,\n      cont: 0,\n      callback: callback,\n      active: true\n    }\n\n    this.init();\n  }\n\n\n  init(){\n\n    this.s.$images.each((i, el) => {\n      let $img = $(el);\n\n      if ($img.prop('complete')) {\n        this.s.cont++;\n        if( this.s.cont == this.s.$images.length ){\n           this.s.callback();\n        }\n      }\n\n      else {\n        $img.on('load', () => {\n          this.s.cont++;\n          if( this.s.cont == this.s.$images.length ){\n             if(this.s.active) {\n               this.s.callback();\n             }\n          };\n        });\n      }\n\n    });\n  }\n\n  stop() {\n    this.s.active = false\n  }\n\n}\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { lightImageDescription } from \"./lightbox-image-description.js\";\nimport { loadImages } from \"../../../js/utility/loadImages.js\";\nimport { lightboxCommonDynamic } from \"./lightbox-common-dynamic.js\";\n\n\nclass lightBoxImageClass {\n\n  constructor() {\n    if(!lightBoxImageClass.instance){\n      this.s = {\n        $image: [],\n        $img: [],\n        _data: {},\n        onResizeId: -1,\n        isLoading: false,\n        isOpen: false,\n        loadimage: null\n      }\n      lightBoxImageClass.instance = this;\n    }\n    return lightBoxImageClass.instance;\n  }\n\n  init(data) {\n    this.s.isOpen= true\n    eventManager.remove('resize', this.s.onResizeId)\n    this.s._data = data;\n\n    this.s.$img = $(\"<img>\");\n    const stringToAppend = `<div>\\\n        <img class='lightbox__img' src='${this.s._data.url }'>\\\n        </div>`;\n\n    this.s.$img.attr('src', this.s._data.url);\n    this.s._data.$content.append(\"<div class='loader'>Loading...</div>\");\n    this.s.isLoading = true\n    this.s.loadimage = new loadImages( this.s.$img , callback.bind(this) );\n\n    function callback(){\n      // Aggiungo l'immagine solo se la lightbox è ancora aperta.\n      if(!this.s.isOpen) return;\n\n      this.s._data.$content.html(stringToAppend);\n      this.s.$image = $('.lightbox__img');\n      this.displayImage(this.s.$img , this.s.$image,  this.s._data);\n      this.displayDescription(this.s._data);\n\n      this.s.onResizeId = eventManager.push('resize', this.onResizeLightboxImage.bind(this))\n      this.s.isLoading = false\n    }\n  }\n\n  displayImage() {\n    const height = this.s.$img.get(0).naturalHeight,\n          width = this.s.$img.get(0).naturalWidth,\n          maxHeight = eventManager.windowsHeight() - eventManager.windowsHeight()/3,\n          maxWidth = eventManager.windowsWidth() - eventManager.windowsWidth()/3;\n\n    const ratio = lightboxCommonDynamic.calculateAspectRatioFit(width,height,maxWidth,maxHeight);\n    this.s._data.$content.css(\"width\", ratio.width);\n    this.s._data.$content.css(\"height\", ratio.height);\n\n    setTimeout(() => {\n      this.s.$image.addClass('visible');\n    }, 400);\n  }\n\n  onResizeLightboxImage() {\n    this.s.$image.removeClass('visible');\n    this.displayImage(this.s.$img , this.s.$image , this.s._data);\n  }\n\n  displayDescription(data) {\n    lightImageDescription.init({\n        title: data.title,\n        description: data.description,\n        $content: data.$content\n    })\n  }\n\n  onCloseLightbox() {\n\n    // Esco dal loading image se alla chiusara della lightbox stà ancora caricando.\n    // Potrebbe caricare involontariamente la lightbox di un'immagine indesiderata\n    // Posso arrivare da lignbox che non usano loadimge\n    // In questo caso si presuppone sia null, utilizziamo anche un try catch per maggiore sicurezza.\n    if (this.s.loadimage != null) {\n      try {\n        this.s.loadimage.stop()\n      }\n      catch(err) {\n        // console.log(err)\n      }\n    }\n    this.s.loadimage = null;\n    this.s.isOpen= false\n    this.s.isLoading = false\n    eventManager.remove('resize', this.s.onResizeId)\n  }\n\n  isLoading() {\n    return this.s.isLoading\n  }\n\n}\n\nexport const lightBoxImage = new lightBoxImageClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { lightboxCommonDynamic } from \"./lightbox-common-dynamic.js\";\nimport { lightBoxImage } from \"./lightbox-image.js\";\n\nclass lightBoxImageSlideClass {\n\n  constructor() {\n    if(!lightBoxImageSlideClass.instance){\n      this.s = {\n        $el: [],\n        itemArray: [],\n        index: 0,\n        opened: false,\n        $content : {},\n        $contentContainer: {}\n      }\n      lightBoxImageSlideClass.instance = this;\n    }\n    return lightBoxImageSlideClass.instance;\n  }\n\n  init(data) {\n    const _data = data\n\n    this.s.opened = true;\n    this.s.$content = _data.$content;\n    // add navigation btn\n    this.s.$contentContainer = this.s.$content.closest('.lightbox__container');\n    const StringToAppend = `<div class='lightbox-image-slide__nav clearfix'>\\\n        <button type='button' class='lightbox-image-slide__prev'>Prev</button>\\\n        <button type='button' class='lightbox-image-slide__next'>Next</button>\\\n        </div>`\n    this.s.$contentContainer.append(StringToAppend);\n\n    this.s.$el = _data.$allItem.filter((index, element) => {\n      return ($(element).data(\"imagegroup\") == _data.group)\n    });\n\n    this.s.$el.each((index, element) => {\n      const item=$(element);\n\n      this.s.itemArray.push(new this.setitem(item));\n      if (item.is(_data.$item) ) {\n        this.s.index = index;\n      }\n    });\n\n    // Carico la prima immagine\n    this.loadImage();\n    $('.lightbox-image-slide__next').off('click');\n    $('.lightbox-image-slide__next').on('click', this.next.bind(this));\n    $('.lightbox-image-slide__prev').off('click');\n    $('.lightbox-image-slide__prev').on('click', this.prev.bind(this));\n  }\n\n  setitem($item) {\n    this.$item = $item;\n    this.url = $item.data('url');\n  }\n\n  showImage(url,title,description,$content) {\n    lightboxCommonDynamic.resetDescriptionBox({\n      $content: $content\n    });\n\n    lightBoxImage.init({\n      $content: $content,\n      url: url || '',\n      title: title || '',\n      description: description || ''\n    })\n  }\n\n  loadImage() {\n    this.showImage(\n      this.s.itemArray[this.s.index].url,\n      this.s.itemArray[this.s.index].$item.data('title'),\n      this.s.itemArray[this.s.index].$item.data('description'),\n      this.s.$content\n    );\n  }\n\n  prev(){\n    // Finche la precendente immagine non + caricata disabilito il caricamento\n    // di un'altra immagine per non creare sovrapposizione di loading\n    if( lightBoxImage.isLoading()) return;\n\n    if( this.s.index > 0) {\n      this.s.index --;\n    } else {\n      this.s.index = this.s.itemArray.length-1;\n    }\n    this.loadImage();\n  }\n\n  next(){\n    // Finche la precendente immagine non + caricata disabilito il caricamento\n    // di un'altra immagine per non creare sovrapposizione di loading\n    if( lightBoxImage.isLoading()) return;\n\n    if( this.s.index < this.s.itemArray.length-1) {\n      this.s.index ++;\n    } else {\n      this.s.index = 0;\n    }\n    this.loadImage();\n  }\n\n  onCloseLightbox() {\n    if(this.s.opened) {\n      this.s.$el = [];\n      this.s.itemArray = [];\n      this.s.index = 0;\n      // remove navigation btn\n      $('.lightbox-image-slide__next').off('click');\n      $('.lightbox-image-slide__prev').off('click');\n      $('.lightbox-image-slide__nav').remove();\n    }\n  }\n\n}\n\nexport const lightBoxImageSlide = new lightBoxImageSlideClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { lightImageDescription } from \"./lightbox-image-description.js\";\nimport { lightboxCommonDynamic } from \"./lightbox-common-dynamic.js\";\n\nclass lightBoxVideoClass {\n\n  constructor() {\n    if(!lightBoxVideoClass.instance){\n      lightBoxVideoClass.instance = this;\n      this.s = {\n        _data: {},\n        onResizeId: -1\n      }\n    }\n    return lightBoxVideoClass.instance;\n  }\n\n  init(data) {\n    this.s._data = data;\n    eventManager.remove('resize', this.s.onResizeId)\n    const $videoContainer = '<div class=\"lightbox__video\"></div>';\n\n    this.setVideoSize()\n\n    this.s._data.$content.html($videoContainer);\n    const $video = $('.lightbox__video');\n\n    setTimeout(() => {\n      $video.html(`<iframe width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/${this.s._data.url }\" frameborder=\"0\" allowfullscreen></iframe>`)\n      $video.addClass('visible');\n    }, 200);\n\n    this.s.onResizeId = eventManager.push('resize', this.setVideoSize.bind(this))\n    this.openDescription(this.s._data);\n  }\n\n  setVideoSize() {\n    const maxHeight = eventManager.windowsHeight() - eventManager.windowsHeight()/3,\n          maxWidth = eventManager.windowsWidth() - eventManager.windowsWidth()/3,\n          width = this.s._data.ratioW,\n          height = this.s._data.ratioH,\n          ratio = lightboxCommonDynamic.calculateAspectRatioFit(width,height,maxWidth,maxHeight);\n\n    this.s._data.$content.css(\"width\", ratio.width);\n    this.s._data.$content.css(\"height\",  ratio.height);\n  }\n\n  openDescription(data) {\n    const _data = data\n\n    lightImageDescription.init({\n        title: _data.title,\n        description: _data.description,\n        $content: _data.$content\n    })\n  }\n\n}\n\nexport const lightBoxVideo = new lightBoxVideoClass()\n","import { eventManager } from \"../../../js/base/eventManager.js\";\nimport { lightImageDescription } from \"./lightbox-image-description.js\";\nimport { lightboxCommonDynamic } from \"./lightbox-common-dynamic.js\";\nimport { lightBoxImage } from \"./lightbox-image.js\";\nimport { lightBoxImageSlide } from \"./lightbox-image-slide.js\";\nimport { lightBoxVideo } from \"./lightbox-video.js\";\n\nexport class lightBoxClass {\n\n  constructor(data) {\n    this.s = {\n      $body: $('body'),\n      $OpenBtn: data.openBtn || [],\n      $closeBtn: data.closeBtn || [],\n      $lightBox:  data.lightbox || [],\n      $dynamicContent: [], // Elemento vuoto se apro una lightbox semplice\n      $staticContent: [],\n      dataType: data.type || 'normal'\n    }\n\n    this.init();\n  }\n\n\n  init(){\n    this.s.$dynamicContent = this.s.$lightBox.find('.lightbox__dinamic-content') || []; // Elemento vuoto se apro una lightbox semplice\n    this.s.$staticContent  = this.s.$lightBox.find('.lightbox__static-content') || [];\n    this.s.$OpenBtn.on('click' , this.openBtnOnClick.bind(this));\n    this.s.$closeBtn.on('click', this.closeBtnOnClick.bind(this));\n    this.s.$lightBox.on('click', this.lightBoxOnClick.bind(this));\n  }\n\n  openBtnOnClick(event) {\n    event.preventDefault();\n    const $btn = $(event.target);\n\n    if(!this.s.$lightBox.hasClass('active')){\n      this.s.$lightBox.addClass('active');\n      eventManager.setBodyOverflow();\n\n      switch(this.s.dataType) {\n\n        case 'normal':\n          lightImageDescription.init({\n              title: $btn.attr('data-title') || '',\n              description: $btn.attr('data-description') || '',\n              $content: this.s.$staticContent\n          })\n          break;\n\n        case 'image':\n          lightBoxImage.init({\n              url: $btn.attr('data-url'),\n              title: $btn.attr('data-title') || '',\n              description: $btn.attr('data-description') || '',\n              $content: this.s.$dynamicContent\n          })\n          break;\n\n        case 'image-slide':\n          lightBoxImageSlide.init({\n            group: $btn.attr('data-imagegroup'),\n            $allItem: this.s.$OpenBtn,\n            $item: $btn,\n            $content: this.s.$dynamicContent\n          })\n          break;\n\n        case 'video':\n          lightBoxVideo.init({\n            url: $btn.attr('data-url'),\n            title: $btn.attr('data-title') || '',\n            description: $btn.attr('data-description') || '',\n            ratioW: $btn.attr('data-ratioW') || '16',\n            ratioH: $btn.attr('data-ratioH') || '9',\n            $content: this.s.$dynamicContent\n          })\n          break;\n      }\n    }\n  }\n\n  closeBtnOnClick(event) {\n    event.preventDefault();\n    this.closeLightBox();\n  }\n\n  lightBoxOnClick(event) {\n    if( $(event.target).is(this.s.$lightBox)){\n       this.closeLightBox(event);\n    }\n  }\n\n  closeLightBox(event) {\n    if( this.s.$lightBox.hasClass('active')){\n      this.s.$lightBox.removeClass('active');\n      eventManager.removeBodyOverflow();\n\n      if ( this.s.dataType == 'image' || this.s.dataType == 'image-slide' || this.s.dataType == 'video' ) {\n\n        lightBoxImage.onCloseLightbox({\n          $content: this.s.$dynamicContent,\n          type: 'dynamic'\n        })\n\n        lightBoxImageSlide.onCloseLightbox({\n          $content: this.s.$dynamicContent,\n          type: 'dynamic'\n        })\n\n        lightboxCommonDynamic.onCloseLightbox({\n          $content: this.s.$dynamicContent,\n          type: 'dynamic'\n        })\n\n      } else {\n\n        lightboxCommonDynamic.onCloseLightbox({\n          $content: this.s.$staticContent,\n          type: 'normal'\n        })\n      }\n    }\n  }\n\n}\n","import { } from \"./extra/SmoothScroll.js\"\nimport { eventManager } from \"./base/eventManager.js\";\nimport { vh } from \"./utility/vh.js\"\nimport { parallax } from \"../component/parallax/js/parallax.js\";\nimport { parallaxBackground } from \"../component/parallax/js/parallaxBackground.js\";\nimport { tGallery } from \"../component/threeGallery/js/threeGallery.js\";\nimport { showElement } from \"../component/show-element/js/ShowElement.js\"\nimport { fitImages } from \"../component/fit-images/js/fitImage.js\"\nimport { toolTip } from \"../component/tooltip/js/tooltip.js\"\nimport { totop } from \"../component/to-top/js/toTop.js\"\nimport { section } from \"../component/section/js/section.js\"\nimport { offsetSliderClass } from \"../component/offset-slider/js/offsetSlider.js\"\nimport { menuClass } from \"../component/navigation/js/menu.js\"\nimport { accordionClass } from \"../component/accordion/js/accordion.js\"\nimport { popToggleClass } from \"../component/popToggle/js/popToggle.js\"\nimport { popToggleManagerClass } from \"../component/popToggle/js/popToggleManager.js\"\nimport { overlayClass } from \"../component/overlay/js/overlay.js\"\nimport { lightBoxClass } from \"../component/lightbox/js/lightbox.js\"\n\neventManager.init(true,true);\nparallax.init('JS');\ntGallery.init();\nparallaxBackground.init();\nshowElement.init();\nfitImages.init();\ntoolTip.init();\ntotop.init();\nvh.init();\nsection.init();\n\nconst offsetSlider = new offsetSliderClass({\n    container: '.offset-slider',\n    step: 8\n})\n\n\n// LIGHTBOX\nconst lightSimply = new lightBoxClass({\n      openBtn:$('.btn-Lightbox1'),\n      closeBtn:$('.lightbox__closeBtn'),\n      lightbox:$('.lightbox--static'),\n      type:'normal'\n    });\n\nconst lightImage = new lightBoxClass({\n      openBtn:$('.btn-LightboxImage'),\n      closeBtn:$('.lightbox__closeBtn'),\n      lightbox:$('.lightbox--image'),\n      type:'image'\n    });\n\nconst lightSlide = new lightBoxClass({\n      openBtn:$('.btn-LightboxImageSlide'),\n      closeBtn:$('.lightbox__closeBtn'),\n      lightbox:$('.lightbox--image'),\n      type:'image-slide'\n    });\n\nconst lightVideo = new lightBoxClass({\n      openBtn:$('.btn-LightboxVideo'),\n      closeBtn:$('.lightbox__closeBtn'),\n      lightbox:$('.lightbox--video'),\n      type:'video'\n    });\n\n\n\n\n// MENU\nconst menu = new menuClass({\n      componentWrepper: '.menu-container--top'\n    });\n\nconst sidebarMenu = new menuClass({\n      componentWrepper: '.menu-container--sidebar',\n      direction: 'vertical',\n      sideDirection: 'left',\n      offCanvas: false\n    });\n\n\n// POPTOGGLE\n// TEST CALLBACK\nfunction callback1() {\n    console.log('callback open');\n}\n\nfunction callback2() {\n    console.log('callback close');\n}\n\nconst popToggleManager = new popToggleManagerClass();\nconst overlay = new overlayClass({element: '#overlay--comp', delay: 300})\noverlay.callback = popToggleManager.closeAllPop.bind(popToggleManager);\n\n// POP 1\nconst popToggle1 = new popToggleClass({\n    name: 'pop1',\n    openButton: '.popTogglebtn-1',\n    target: '.popTarget-1',\n    manager: popToggleManager\n})\npopToggle1.openCallBack = overlay.open.bind(overlay,\n    {\n        top: '.btn-LightboxImageSlide',\n        right: '.popTarget-1',\n        bottom: 0,\n        left: 0,\n        name: 'pop1',\n        bodyOverflow: true\n    });\npopToggle1.openCallBack = callback1.bind(this);\npopToggle1.closeCallBack = overlay.close.bind(overlay);\npopToggle1.closeCallBack = callback2.bind(this);\n\n// POP 2\nconst popToggle2 = new popToggleClass({\n    name: 'pop2',\n    openButton: '.popTogglebtn-2',\n    closeButton: '.popTarget-2 button',\n    target: '.popTarget-2',\n    manager: popToggleManager\n})\npopToggle2.openCallBack = overlay.open.bind(overlay,\n    {\n        top: '.popTogglebtn-2',\n        right: '.popTarget-2',\n        bottom:  0,\n        left: 0,\n        name: 'pop2',\n        bodyOverflow: true\n    });\npopToggle2.closeCallBack = overlay.close.bind(overlay);\n\n// POP 3\nconst popToggle3 = new popToggleClass({\n    name: 'pop3',\n    openButton: '.popTogglebtn-3',\n    closeButton: '.popTarget-3 button',\n    target: '.popTarget-3',\n    isDropDown: true,\n    manager: popToggleManager\n})\n\n// POP MANAGER CALLBACK\n// popToggleManager.callBackFunction(sidebarMenu.openMainMenu.bind(sidebarMenu));\n// popToggleManager.callBackFunction(callback2.bind(this))\n\n\n\n\n// ACCORDION\nconst accordion = new accordionClass({\n    item: '.accrdion-item',\n    button: '.accrdion-item__btn',\n    target: '.accrdion-item__content',\n    breackpoint: 'desktop',\n    queryType: 'max'\n    // multiple: true\n\n});\n// ACCORDION\n\n// Provvisorio\nconst forceResize = () => {\n  setTimeout(() => {\n    $(window).resize()\n  }, 200);\n}\neventManager.push('load', forceResize);\n"],"names":["defaultOptions","frameRate","animationTime","stepSize","pulseAlgorithm","pulseScale","pulseNormalize","accelerationDelta","accelerationMax","keyboardSupport","arrowScroll","fixedBackground","excluded","options","isExcluded","isFrame","direction","x","y","initDone","root","document","documentElement","activeElement","observer","refreshSize","deltaBuffer","deltaBufferTimer","isMac","test","navigator","platform","key","left","up","right","down","spacebar","pageup","pagedown","end","home","arrowKeys","initTest","addEvent","keydown","init","body","html","windowHeight","window","innerHeight","scrollHeight","compatMode","indexOf","top","self","isOldSafari","offsetHeight","fullPageElem","createElement","style","cssText","appendChild","pendingRefresh","setTimeout","height","config","attributes","childList","characterData","MutationObserver","observe","clearfix","clear","backgroundAttachment","cleanup","disconnect","removeEvent","wheelEvent","wheel","mousedown","que","pending","lastScroll","Date","now","scrollArray","elem","directionCheck","elapsed","factor","Math","min","push","lastX","lastY","start","scrollRoot","getScrollRoot","isWindowScroll","$scrollBehavior","isScrollBehaviorSmooth","scrollBehavior","step","time","scrollX","scrollY","i","length","item","finished","position","pulse","splice","scrollBy","scrollLeft","scrollTop","requestFrame","event","target","defaultPrevented","ctrlKey","isNodeName","src","shadowRoot","deltaX","wheelDeltaX","deltaY","wheelDeltaY","isDivisible","abs","wheelDelta","deltaMode","overflowing","overflowingAncestor","isChrome","Object","defineProperty","value","frameElement","parent","isTouchpad","preventDefault","scheduleClearCache","modifier","altKey","metaKey","shiftKey","keyCode","contains","inputNodeNames","buttonTypes","nodeName","type","isInsideYoutubeVideo","isContentEditable","shift","clientHeight","scrollingElement","scroll","scrollRemaining","uniqueID","el","cacheX","cacheY","clearCacheTimer","smoothBehaviorForElement","clearTimeout","setInterval","setCache","elems","cache","getCache","rootScrollHeight","cached","topOverflowsNotHidden","overflowNotHidden","isOverflowCSS","overflowAutoOrScroll","isContentOverflowing","parentElement","overflow","getComputedStyle","getPropertyValue","id","fn","arg","addEventListener","removeEventListener","tag","toLowerCase","localStorage","SS_deltaBuffer","split","e","join","dpiScaledWheelDelta","allDeltasDivisableBy","n","divisor","floor","isControl","URL","classList","parentNode","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","element","delay","WebKitMutationObserver","MozMutationObserver","SCROLL_ROOT","dummy","bodyScrollTop","docElScrollTop","removeChild","pulse_","val","expx","exp","userAgent","isEdge","isSafari","isMobile","isIEWin7","isEnabledForBrowser","supportsPassive","get","wheelOpt","passive","SmoothScroll","optionsToSet","hasOwnProperty","destroy","SmoothScrollOptions","module","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","apply","debounced","arguments","callNow","throttle","threshhold","scope","deferTimer","eventManagerClass","instance","s","data","windowsHeight","windowsWidth","innerWidth","pageYOffset","documentHeight","lastScrollTop","scrollUp","scrollDown","scrollDirection","ticking","stackId","bodyOverflowStack","isScrolling","_scrollUtility","_throttle","scrollUtility","useThrottle","onScroll","bind","onresize","resize","onThrottle","onscroll","detectScrollEnd","onreadystatechange","readyState","execute","requestTick","updateScroll","_properties","index","_function","_order","obj","order","updateOrder","_id","filter","findIndex","sort","obj1","obj2","eventManager","vhClass","images","calcVh","vh","setProperty","modernizerFunc","t","r","_","className","Modernizr","_config","classPrefix","w","baseVal","enableJSClass","RegExp","replace","enableClasses","o","toUpperCase","a","l","C","name","aliases","Boolean","g","createElementNS","call","f","fake","u","c","p","d","parseInt","styleSheet","createTextNode","background","m","console","error","currentStyle","v","CSS","supports","h","k","modElem","charAt","slice","E","z","S","_version","usePrefixes","_q","on","addTest","addAsyncTest","prototype","_prefixes","b","_domPrefixes","T","prefixedCSSValue","_cssomPrefixes","P","CSSRule","atRule","j","testStyles","DocumentTouch","offsetTop","N","unshift","testAllProps","q","prefixed","prefixedCSS","L","modernzier","parallaxClass","$parallaxItem","$","itemArray","transformProperty","smoothCss","smoothJs","smoothType","req","toFixedValue","_smoothType","linearParallax","smoothParallax","updateArray","buildData","container","closest","offset","endValue","startValue","prevValue","useOtherPosition","attr","distance","jsVelocity","reverse","oneDirection","align","opacityStart","opacityEnd","ease","propierties","calcOffset","calcHeight","outerHeight","each","normalizeDistance","normalizeVelocity","addClass","executeParallax","cancelAnimationFrame","onReuqestAnim","_n","timeStamp","draw","isCompleted","toFixed","css","setStyle","applyStyle","alignIsNotaNumaber","isNaN","vhLimit","vhStart","opacityVal","scaleVal","parallax","parallaxBackgroundClass","bgParentOffset","bgParentheight","yPos","calcParentOffset","calcParentHeight","gap","parallaxBackground","tGalleryClass","$containers","$items","arrItem","onCLick","setWidth","find","activeItem","activeDirection","center","outerWidth","calcCenter","$item","hasClass","$container","$scopeItem","$innerElement","not","$currentInnerElement","itemPosX","width","scrollDestination","removeClass","animate","tGallery","showElementClass","entryGap","addHandler","pos","hide","firstActive","onlyOnce","startClass","endClass","calcPos","checkPosition","postion","isAble","showElement","fitImagesClass","$imgContainers","fitImages","$imgContainer","$img","children","prop","applyClass","containerRatio","imgRatio","toolTipClass","$bnt","$body","lastToolTip","overTool","onClick","onMouseOver","onMouseOut","bodyOnCLick","touchevents","is","addTollTip","$target","$realtedTarget","relatedTarget","resetTooltip","off","outOfPopUp","parents","siblings","_item","string","$wrapper","append","$toolTip","toolTipPosX","toolTipPosY","toolTipPosWidth","remove","toolTip","totopClass","$totop","showArrow","totop","sectionClass","$sectionContainer","$footer","$section","sectionArray","footerPosTop","trasitionOn","forceScroll","prevId","slideTo","setDataAttr","section","offsetSliderClass","containerWidth","$el","$prevBtn","$nextBtn","drivenElIndex","drivenTranslatePosition","advancement","activeStep","elArray","setData","getDrivenIndex","setContainerWidth","setAdvancement","initSwipe","prevStep","nextStep","setDriveElPosition","setOtherElPosition","_this","driven","calcAdvancement","$cont","isDown","startX","endX","walk","checkIfScrollable","pageX","touch","touches","updateIndex","max","half","drivenEl","mq","breakpoint","menuClass","$componentWrepper","componentWrepper","sideDirection","offCanvas","$offCanvasBack","$mainMenu","$toggle","$itemHasChildren","$firstLevelItem","$allSubmenu","$toggleContainer","subMenuWidth","toggleWrapHeight","menuArr","menuIsOpen","lastWindowsWidth","NAV_WRAP","NAV","MAIN_MENU","MENU_ITEM","MENU_ITEM_HAS_CHILDREN","SUB_MENU","TOGGLE_CONTAINER","TOOGLE_BTN","ARROW_SUBMENU","OFFCANVAS_ARROW_BACK","NAV_VERTICAL","NAV_VERTICAL_LEFT","NAV_VERTICAL_RIGHT","NAV_HORIZONTAL","NAV_OFFCANVAS","NAV_DROPDOWN","IS_SELECTED","ARROW_SELECTED","ACTIVE","OPEN","MENU_ON","$mainWrap","$menu","getSubmenuWidth","getToggleWrapHeight","addArrow","resizeMenu","SetPosition","_that","maxLevel","submenu","parentItem","parentItemPos","parentItemWidth","numSubmenuParents","totalWidth","$arrow","prepend","arrowOnClick","toggleOnCLick","offCanvasBack","evt","$parentMenu","closeMainMenu","closeSubmenu","openMainMenu","$submenu","$parentsSubmenu","$parentsArrow","slideUp","slideDown","removeBodyOverflow","setBodyOverflow","accordionClass","$btn","button","breackpoint","queryType","multiple","openItem","popToggleClass","openButton","$closebtn","closeButton","openCallBack","closeCallBack","isDropDown","manager","pushToggle","openPop","closePop","onOpenPop","popToggleManagerClass","popArray","functionArray","_fn","_name","overlayClass","$overlay","callBack","bodyOverflow","close","bottom","dataName","lightImageDescriptionClass","$descriptionBox","_data","title","description","$content","$title","$description","$HideDescriptionLightbox","lightImageDescription","lightboxCommonDynamicClass","lightboxCommonDynamic","resetDescriptionBox","resetDescriptionBoxHideShow","srcWidth","srcHeight","maxWidth","maxHeight","ratio","loadImages","$images","cont","active","lightBoxImageClass","$image","onResizeId","isLoading","isOpen","loadimage","stringToAppend","url","displayImage","displayDescription","onResizeLightboxImage","naturalHeight","naturalWidth","calculateAspectRatioFit","stop","err","lightBoxImage","lightBoxImageSlideClass","opened","$contentContainer","StringToAppend","$allItem","group","setitem","loadImage","next","prev","showImage","lightBoxImageSlide","lightBoxVideoClass","$videoContainer","setVideoSize","$video","openDescription","ratioW","ratioH","lightBoxVideo","lightBoxClass","$OpenBtn","openBtn","$closeBtn","closeBtn","$lightBox","lightbox","$dynamicContent","$staticContent","dataType","openBtnOnClick","closeBtnOnClick","lightBoxOnClick","closeLightBox","onCloseLightbox","offsetSlider","lightSimply","lightImage","lightSlide","lightVideo","menu","sidebarMenu","callback1","log","callback2","popToggleManager","overlay","closeAllPop","popToggle1","open","this","popToggle2","popToggle3","accordion","forceResize"],"mappings":"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"}